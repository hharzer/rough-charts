(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"WithEventHandler",(function(){return WithEventHandler})),__webpack_require__.d(__webpack_exports__,"WithCustomizedShape",(function(){return WithCustomizedShape}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_roughjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_colors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__SOURCE_PREFIX__=(__webpack_require__(45).withSource,"/Users/beizhedenglong/Desktop/p/rough-charts/packages/react-rough-charts/stories"),__STORY__="import * as React from 'react'\nimport { Path } from 'react-roughjs'\nimport {\n  YAxis, XAxis, BarSeries, Rectangle, Tooltip,\n  ChartProvider,\n} from '../src'\nimport { colors } from './colors'\n\nexport default {\n  title: 'BarSeries',\n  component: BarSeries,\n}\nconst data = [\n  {\n    name: 'Page A', uv: 4000, pv: 2400, amt: 2400,\n  },\n  {\n    name: 'Page B', uv: 3000, pv: 3398, amt: 2210,\n  },\n  {\n    name: 'Page C', uv: 2000, pv: 9800, amt: 2290,\n  },\n  {\n    name: 'Page D', uv: 2780, pv: 3908, amt: 2000,\n  },\n  {\n    name: 'Page E', uv: 1890, pv: 4800, amt: 2181,\n  },\n  {\n    name: 'Page F', uv: 2390, pv: 3800, amt: 2500,\n  },\n  {\n    name: 'Page G', uv: 3490, pv: 4300, amt: 2100,\n  },\n]\nexport const Basic = props => (\n  <ChartProvider\n    data={data}\n    height={400}\n    {...props}\n  >\n    <YAxis />\n    <XAxis dataKey=\"name\" />\n    <BarSeries dataKey=\"pv\" options={{ fill: colors[0] }} />\n    <BarSeries dataKey=\"uv\" options={{ fill: colors[1] }} />\n    <BarSeries dataKey=\"amt\" options={{ fill: colors[2] }} />\n    <Tooltip />\n  </ChartProvider>\n)\nBasic.story = {\n  title: 'basic',\n}\n\nexport const WithEventHandler = (props) => {\n  const [activeIndex, setIndex] = React.useState(-1)\n  return (\n    <ChartProvider\n      data={data}\n      height={400}\n      {...props}\n    >\n      <YAxis />\n      <XAxis dataKey=\"name\" />\n      <BarSeries\n        dataKey=\"pv\"\n        options={{ fill: colors[0] }}\n      >\n        {\n          (item, itemProps, index) => (\n            <Rectangle\n              key={index}\n              {...itemProps}\n              onMouseOver={() => {\n                setIndex(index)\n              }}\n              options={{\n                ...itemProps.options,\n                fillStyle: activeIndex === index ? 'solid' : undefined,\n              }}\n              onMouseOut={() => setIndex(-1)}\n            />\n          )\n        }\n      </BarSeries>\n      <Tooltip />\n    </ChartProvider>\n  )\n}\n\n\nexport const WithCustomizedShape = props => (\n  <ChartProvider\n    data={data}\n    height={400}\n    width={props.width}\n  >\n    <YAxis />\n    <XAxis dataKey=\"name\" />\n    <BarSeries\n      dataKey=\"pv\"\n      options={{ fill: colors[1] }}\n    >\n      {\n        (item, {\n          x, y, width, height,\n        }, index) => (\n          <Path\n            key={index}\n            d={`M ${x} ${y} L ${x} ${y + height} L ${x + width} ${y + height} Z`}\n            options={{\n              fill: colors[8],\n              fillStyle: 'cross-hatch',\n            }}\n          />\n        )\n      }\n    </BarSeries>\n    <Tooltip />\n  </ChartProvider>\n)\n",__ADDS_MAP__={"barseries--basic":{startLoc:{col:21,line:36},endLoc:{col:1,line:49},startBody:{col:21,line:36},endBody:{col:1,line:49}},"barseries--with-event-handler":{startLoc:{col:32,line:54},endLoc:{col:1,line:88},startBody:{col:32,line:54},endBody:{col:1,line:88}},"barseries--with-customized-shape":{startLoc:{col:35,line:91},endLoc:{col:1,line:120},startBody:{col:35,line:91},endBody:{col:1,line:120}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={},addSourceDecorator=__webpack_require__(45).addSource;__webpack_exports__.default={parameters:{storySource:{source:"import * as React from 'react'\nimport { Path } from 'react-roughjs'\nimport {\n  YAxis, XAxis, BarSeries, Rectangle, Tooltip,\n  ChartProvider,\n} from '../src'\nimport { colors } from './colors'\n\nexport default {\n  title: 'BarSeries',\n  component: BarSeries,\n}\nconst data = [\n  {\n    name: 'Page A', uv: 4000, pv: 2400, amt: 2400,\n  },\n  {\n    name: 'Page B', uv: 3000, pv: 3398, amt: 2210,\n  },\n  {\n    name: 'Page C', uv: 2000, pv: 9800, amt: 2290,\n  },\n  {\n    name: 'Page D', uv: 2780, pv: 3908, amt: 2000,\n  },\n  {\n    name: 'Page E', uv: 1890, pv: 4800, amt: 2181,\n  },\n  {\n    name: 'Page F', uv: 2390, pv: 3800, amt: 2500,\n  },\n  {\n    name: 'Page G', uv: 3490, pv: 4300, amt: 2100,\n  },\n]\nexport const Basic = props => (\n  <ChartProvider\n    data={data}\n    height={400}\n    {...props}\n  >\n    <YAxis />\n    <XAxis dataKey=\"name\" />\n    <BarSeries dataKey=\"pv\" options={{ fill: colors[0] }} />\n    <BarSeries dataKey=\"uv\" options={{ fill: colors[1] }} />\n    <BarSeries dataKey=\"amt\" options={{ fill: colors[2] }} />\n    <Tooltip />\n  </ChartProvider>\n)\nBasic.story = {\n  title: 'basic',\n}\n\nexport const WithEventHandler = (props) => {\n  const [activeIndex, setIndex] = React.useState(-1)\n  return (\n    <ChartProvider\n      data={data}\n      height={400}\n      {...props}\n    >\n      <YAxis />\n      <XAxis dataKey=\"name\" />\n      <BarSeries\n        dataKey=\"pv\"\n        options={{ fill: colors[0] }}\n      >\n        {\n          (item, itemProps, index) => (\n            <Rectangle\n              key={index}\n              {...itemProps}\n              onMouseOver={() => {\n                setIndex(index)\n              }}\n              options={{\n                ...itemProps.options,\n                fillStyle: activeIndex === index ? 'solid' : undefined,\n              }}\n              onMouseOut={() => setIndex(-1)}\n            />\n          )\n        }\n      </BarSeries>\n      <Tooltip />\n    </ChartProvider>\n  )\n}\n\n\nexport const WithCustomizedShape = props => (\n  <ChartProvider\n    data={data}\n    height={400}\n    width={props.width}\n  >\n    <YAxis />\n    <XAxis dataKey=\"name\" />\n    <BarSeries\n      dataKey=\"pv\"\n      options={{ fill: colors[1] }}\n    >\n      {\n        (item, {\n          x, y, width, height,\n        }, index) => (\n          <Path\n            key={index}\n            d={`M ${x} ${y} L ${x} ${y + height} L ${x + width} ${y + height} Z`}\n            options={{\n              fill: colors[8],\n              fillStyle: 'cross-hatch',\n            }}\n          />\n        )\n      }\n    </BarSeries>\n    <Tooltip />\n  </ChartProvider>\n)\n",locationsMap:{"barseries--basic":{startLoc:{col:21,line:36},endLoc:{col:1,line:49},startBody:{col:21,line:36},endBody:{col:1,line:49}},"barseries--with-event-handler":{startLoc:{col:32,line:54},endLoc:{col:1,line:88},startBody:{col:32,line:54},endBody:{col:1,line:88}},"barseries--with-customized-shape":{startLoc:{col:35,line:91},endLoc:{col:1,line:120},startBody:{col:35,line:91},endBody:{col:1,line:120}}}}},title:"BarSeries",component:_src__WEBPACK_IMPORTED_MODULE_2__.c};var data=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:3398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}],Basic=addSourceDecorator((function(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.d,__assign({data:data,height:400},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.j,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.i,{dataKey:"name"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.c,{dataKey:"pv",options:{fill:_colors__WEBPACK_IMPORTED_MODULE_3__.a[0]}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.c,{dataKey:"uv",options:{fill:_colors__WEBPACK_IMPORTED_MODULE_3__.a[1]}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.c,{dataKey:"amt",options:{fill:_colors__WEBPACK_IMPORTED_MODULE_3__.a[2]}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.h,null))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/BarSeries.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__});Basic.story={title:"basic"};var WithEventHandler=addSourceDecorator((function(props){var _a=react__WEBPACK_IMPORTED_MODULE_0__.useState(-1),activeIndex=_a[0],setIndex=_a[1];return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.d,__assign({data:data,height:400},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.j,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.i,{dataKey:"name"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.c,{dataKey:"pv",options:{fill:_colors__WEBPACK_IMPORTED_MODULE_3__.a[0]}},(function(item,itemProps,index){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.g,__assign({key:index},itemProps,{onMouseOver:function(){setIndex(index)},options:__assign(__assign({},itemProps.options),{fillStyle:activeIndex===index?"solid":void 0}),onMouseOut:function(){return setIndex(-1)}}))})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.h,null))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/BarSeries.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),WithCustomizedShape=addSourceDecorator((function(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.d,{data:data,height:400,width:props.width},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.j,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.i,{dataKey:"name"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.c,{dataKey:"pv",options:{fill:_colors__WEBPACK_IMPORTED_MODULE_3__.a[1]}},(function(item,_a,index){var x=_a.x,y=_a.y,width=_a.width,height=_a.height;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_roughjs__WEBPACK_IMPORTED_MODULE_1__.c,{key:index,d:"M "+x+" "+y+" L "+x+" "+(y+height)+" L "+(x+width)+" "+(y+height)+" Z",options:{fill:_colors__WEBPACK_IMPORTED_MODULE_3__.a[8],fillStyle:"cross-hatch"}})})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.h,null))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/BarSeries.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},176:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"TwoLevel",(function(){return TwoLevel})),__webpack_require__.d(__webpack_exports__,"WithCustomizedShape",(function(){return WithCustomizedShape}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_src__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__SOURCE_PREFIX__=(__webpack_require__(45).withSource,"/Users/beizhedenglong/Desktop/p/rough-charts/packages/react-rough-charts/stories"),__STORY__="import * as React from 'react'\nimport {\n  ArcSeries, Tooltip,\n  ChartProvider, Arc,\n} from '../src'\nimport { colors } from './colors'\n\n\nexport default {\n  title: 'ArcSeries',\n  component: ArcSeries,\n}\n\nconst data = [\n  { name: 'A', value1: 30, value2: 35 },\n  { name: 'B', value1: 40, value2: 17 },\n  { name: 'C', value1: 50, value2: 23 },\n  { name: 'D', value1: 60, value2: 15 },\n  { name: 'E', value1: 70, value2: 39 },\n  { name: 'E', value1: 80, value2: 38 },\n  { name: 'G', value1: 90, value2: 25 },\n  { name: 'H', value1: 100, value2: 31 },\n  { name: 'I', value1: 110, value2: 32 },\n]\n\nexport const Basic = props => (\n  <ChartProvider\n    height={400}\n    data={data}\n    margin={{ top: 30, left: 0 }}\n    {...props}\n  >\n    <ArcSeries\n      dataKey=\"value2\"\n      padAngle={Math.PI / 20}\n      options={{ fill: colors[0] }}\n    />\n    <Tooltip />\n  </ChartProvider>\n)\n\nexport const TwoLevel = props => (\n  <ChartProvider\n    height={400}\n    data={data}\n    margin={{ top: 30, left: 0 }}\n    {...props}\n  >\n    <ArcSeries\n      dataKey=\"value1\"\n      innerRadiusPercent={0.8}\n    >\n      {(item, itemProps, index) => (\n        <Arc\n          key={index}\n          {...itemProps}\n          options={{ fill: colors[index % colors.length] }}\n        />\n      )}\n    </ArcSeries>\n    <ArcSeries\n      dataKey=\"value2\"\n      outerRadiusPercent={0.5}\n    >\n      {(item, itemProps, index) => (\n        <Arc\n          key={index}\n          {...itemProps}\n          options={{ fill: colors[index % colors.length] }}\n        />\n      )}\n    </ArcSeries>\n    <Tooltip />\n  </ChartProvider>\n)\n\nexport const WithCustomizedShape = props => (\n  <ChartProvider\n    height={400}\n    data={data}\n    margin={{ top: 30, left: 0 }}\n    {...props}\n  >\n    <ArcSeries\n      dataKey=\"value1\"\n    >\n      {\n        (item, itemProps, index) => (\n          <Arc\n            {...itemProps}\n            key={index}\n            options={{\n              fill: colors[index % colors.length],\n            }}\n            outerRadius={\n              itemProps.outerRadius * 0.3\n              + (index / data.length)\n              * itemProps.outerRadius * 0.7\n            }\n          />\n        )\n      }\n    </ArcSeries>\n    <Tooltip />\n  </ChartProvider>\n)\n",__ADDS_MAP__={"arcseries--basic":{startLoc:{col:21,line:26},endLoc:{col:1,line:40},startBody:{col:21,line:26},endBody:{col:1,line:40}},"arcseries--two-level":{startLoc:{col:24,line:42},endLoc:{col:1,line:75},startBody:{col:24,line:42},endBody:{col:1,line:75}},"arcseries--with-customized-shape":{startLoc:{col:35,line:77},endLoc:{col:1,line:106},startBody:{col:35,line:77},endBody:{col:1,line:106}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={},addSourceDecorator=__webpack_require__(45).addSource;__webpack_exports__.default={parameters:{storySource:{source:"import * as React from 'react'\nimport {\n  ArcSeries, Tooltip,\n  ChartProvider, Arc,\n} from '../src'\nimport { colors } from './colors'\n\n\nexport default {\n  title: 'ArcSeries',\n  component: ArcSeries,\n}\n\nconst data = [\n  { name: 'A', value1: 30, value2: 35 },\n  { name: 'B', value1: 40, value2: 17 },\n  { name: 'C', value1: 50, value2: 23 },\n  { name: 'D', value1: 60, value2: 15 },\n  { name: 'E', value1: 70, value2: 39 },\n  { name: 'E', value1: 80, value2: 38 },\n  { name: 'G', value1: 90, value2: 25 },\n  { name: 'H', value1: 100, value2: 31 },\n  { name: 'I', value1: 110, value2: 32 },\n]\n\nexport const Basic = props => (\n  <ChartProvider\n    height={400}\n    data={data}\n    margin={{ top: 30, left: 0 }}\n    {...props}\n  >\n    <ArcSeries\n      dataKey=\"value2\"\n      padAngle={Math.PI / 20}\n      options={{ fill: colors[0] }}\n    />\n    <Tooltip />\n  </ChartProvider>\n)\n\nexport const TwoLevel = props => (\n  <ChartProvider\n    height={400}\n    data={data}\n    margin={{ top: 30, left: 0 }}\n    {...props}\n  >\n    <ArcSeries\n      dataKey=\"value1\"\n      innerRadiusPercent={0.8}\n    >\n      {(item, itemProps, index) => (\n        <Arc\n          key={index}\n          {...itemProps}\n          options={{ fill: colors[index % colors.length] }}\n        />\n      )}\n    </ArcSeries>\n    <ArcSeries\n      dataKey=\"value2\"\n      outerRadiusPercent={0.5}\n    >\n      {(item, itemProps, index) => (\n        <Arc\n          key={index}\n          {...itemProps}\n          options={{ fill: colors[index % colors.length] }}\n        />\n      )}\n    </ArcSeries>\n    <Tooltip />\n  </ChartProvider>\n)\n\nexport const WithCustomizedShape = props => (\n  <ChartProvider\n    height={400}\n    data={data}\n    margin={{ top: 30, left: 0 }}\n    {...props}\n  >\n    <ArcSeries\n      dataKey=\"value1\"\n    >\n      {\n        (item, itemProps, index) => (\n          <Arc\n            {...itemProps}\n            key={index}\n            options={{\n              fill: colors[index % colors.length],\n            }}\n            outerRadius={\n              itemProps.outerRadius * 0.3\n              + (index / data.length)\n              * itemProps.outerRadius * 0.7\n            }\n          />\n        )\n      }\n    </ArcSeries>\n    <Tooltip />\n  </ChartProvider>\n)\n",locationsMap:{"arcseries--basic":{startLoc:{col:21,line:26},endLoc:{col:1,line:40},startBody:{col:21,line:26},endBody:{col:1,line:40}},"arcseries--two-level":{startLoc:{col:24,line:42},endLoc:{col:1,line:75},startBody:{col:24,line:42},endBody:{col:1,line:75}},"arcseries--with-customized-shape":{startLoc:{col:35,line:77},endLoc:{col:1,line:106},startBody:{col:35,line:77},endBody:{col:1,line:106}}}}},title:"ArcSeries",component:_src__WEBPACK_IMPORTED_MODULE_1__.b};var data=[{name:"A",value1:30,value2:35},{name:"B",value1:40,value2:17},{name:"C",value1:50,value2:23},{name:"D",value1:60,value2:15},{name:"E",value1:70,value2:39},{name:"E",value1:80,value2:38},{name:"G",value1:90,value2:25},{name:"H",value1:100,value2:31},{name:"I",value1:110,value2:32}],Basic=addSourceDecorator((function(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.d,__assign({height:400,data:data,margin:{top:30,left:0}},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.b,{dataKey:"value2",padAngle:Math.PI/20,options:{fill:_colors__WEBPACK_IMPORTED_MODULE_2__.a[0]}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.h,null))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/ArcSeries.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),TwoLevel=addSourceDecorator((function(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.d,__assign({height:400,data:data,margin:{top:30,left:0}},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.b,{dataKey:"value1",innerRadiusPercent:.8},(function(item,itemProps,index){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.a,__assign({key:index},itemProps,{options:{fill:_colors__WEBPACK_IMPORTED_MODULE_2__.a[index%_colors__WEBPACK_IMPORTED_MODULE_2__.a.length]}}))})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.b,{dataKey:"value2",outerRadiusPercent:.5},(function(item,itemProps,index){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.a,__assign({key:index},itemProps,{options:{fill:_colors__WEBPACK_IMPORTED_MODULE_2__.a[index%_colors__WEBPACK_IMPORTED_MODULE_2__.a.length]}}))})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.h,null))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/ArcSeries.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),WithCustomizedShape=addSourceDecorator((function(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.d,__assign({height:400,data:data,margin:{top:30,left:0}},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.b,{dataKey:"value1"},(function(item,itemProps,index){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.a,__assign({},itemProps,{key:index,options:{fill:_colors__WEBPACK_IMPORTED_MODULE_2__.a[index%_colors__WEBPACK_IMPORTED_MODULE_2__.a.length]},outerRadius:.3*itemProps.outerRadius+index/data.length*itemProps.outerRadius*.7}))})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.h,null))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/ArcSeries.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},177:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"WithCustomizedShape",(function(){return WithCustomizedShape})),__webpack_require__.d(__webpack_exports__,"WithCustomizedCurve",(function(){return WithCustomizedCurve}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_roughjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),d3_shape__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39),_src__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),_colors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__SOURCE_PREFIX__=(__webpack_require__(45).withSource,"/Users/beizhedenglong/Desktop/p/rough-charts/packages/react-rough-charts/stories"),__STORY__="import * as React from 'react'\nimport { Rectangle } from 'react-roughjs'\nimport * as d3Shape from 'd3-shape'\nimport {\n  LineSeries, Tooltip,\n  ChartProvider, XAxis, YAxis,\n} from '../src'\nimport { colors } from './colors'\n\n\nexport default {\n  title: 'LineSeries',\n  component: LineSeries,\n}\n\nconst data = [\n  { name: 'A', value1: 30, value2: 35 },\n  { name: 'B', value1: 90, value2: 17 },\n  { name: 'C', value1: 50, value2: 23 },\n  { name: 'D', value1: 40, value2: 15 },\n  { name: 'E', value1: 70, value2: 39 },\n  { name: 'G', value1: 30, value2: 25 },\n  { name: 'H', value1: 100, value2: 31 },\n  { name: 'I', value1: 110, value2: 32 },\n]\n\nexport const Basic = props => (\n  <ChartProvider\n    height={400}\n    data={data}\n    {...props}\n  >\n    <XAxis dataKey=\"name\" />\n    <YAxis />\n    <LineSeries\n      dataKey=\"value1\"\n      options={{\n        stroke: colors[0],\n        strokeWidth: 2,\n      }}\n    />\n    <LineSeries\n      dataKey=\"value2\"\n      options={{\n        stroke: colors[3],\n        strokeWidth: 2,\n      }}\n    />\n    <Tooltip />\n  </ChartProvider>\n)\n\nexport const WithCustomizedShape = props => (\n  <ChartProvider\n    height={400}\n    data={data}\n    {...props}\n  >\n    <XAxis dataKey=\"name\" />\n    <YAxis />\n    <LineSeries\n      dataKey=\"value1\"\n      options={{\n        stroke: colors[0],\n        strokeWidth: 2,\n      }}\n    >\n      {\n        (item, itemProps, index) => {\n          const { x, y } = itemProps\n\n          return (\n            <Rectangle\n              key={index}\n              x={x - 10}\n              y={y - 10}\n              height={20}\n              width={20}\n              options={{\n                fill: colors[0],\n                fillStyle: 'solid',\n                stroke: colors[0],\n              }}\n            />\n          )\n        }\n      }\n    </LineSeries>\n    <Tooltip />\n  </ChartProvider>\n)\n\nexport const WithCustomizedCurve = (props) => {\n  const c1 = d3Shape.curveCatmullRom.alpha(1)\n  return (\n    <ChartProvider\n      height={400}\n      data={data}\n      {...props}\n    >\n      <XAxis dataKey=\"name\" />\n      <YAxis />\n      <LineSeries\n        dataKey=\"value1\"\n        curve={c1}\n        options={{\n          stroke: colors[0],\n          strokeWidth: 2,\n        }}\n      />\n      <LineSeries\n        dataKey=\"value1\"\n        options={{\n          stroke: colors[3],\n          strokeWidth: 2,\n        }}\n      />\n      <Tooltip />\n    </ChartProvider>\n  )\n}\n",__ADDS_MAP__={"lineseries--basic":{startLoc:{col:21,line:27},endLoc:{col:1,line:51},startBody:{col:21,line:27},endBody:{col:1,line:51}},"lineseries--with-customized-shape":{startLoc:{col:35,line:53},endLoc:{col:1,line:91},startBody:{col:35,line:53},endBody:{col:1,line:91}},"lineseries--with-customized-curve":{startLoc:{col:35,line:93},endLoc:{col:1,line:121},startBody:{col:35,line:93},endBody:{col:1,line:121}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={},addSourceDecorator=__webpack_require__(45).addSource;__webpack_exports__.default={parameters:{storySource:{source:"import * as React from 'react'\nimport { Rectangle } from 'react-roughjs'\nimport * as d3Shape from 'd3-shape'\nimport {\n  LineSeries, Tooltip,\n  ChartProvider, XAxis, YAxis,\n} from '../src'\nimport { colors } from './colors'\n\n\nexport default {\n  title: 'LineSeries',\n  component: LineSeries,\n}\n\nconst data = [\n  { name: 'A', value1: 30, value2: 35 },\n  { name: 'B', value1: 90, value2: 17 },\n  { name: 'C', value1: 50, value2: 23 },\n  { name: 'D', value1: 40, value2: 15 },\n  { name: 'E', value1: 70, value2: 39 },\n  { name: 'G', value1: 30, value2: 25 },\n  { name: 'H', value1: 100, value2: 31 },\n  { name: 'I', value1: 110, value2: 32 },\n]\n\nexport const Basic = props => (\n  <ChartProvider\n    height={400}\n    data={data}\n    {...props}\n  >\n    <XAxis dataKey=\"name\" />\n    <YAxis />\n    <LineSeries\n      dataKey=\"value1\"\n      options={{\n        stroke: colors[0],\n        strokeWidth: 2,\n      }}\n    />\n    <LineSeries\n      dataKey=\"value2\"\n      options={{\n        stroke: colors[3],\n        strokeWidth: 2,\n      }}\n    />\n    <Tooltip />\n  </ChartProvider>\n)\n\nexport const WithCustomizedShape = props => (\n  <ChartProvider\n    height={400}\n    data={data}\n    {...props}\n  >\n    <XAxis dataKey=\"name\" />\n    <YAxis />\n    <LineSeries\n      dataKey=\"value1\"\n      options={{\n        stroke: colors[0],\n        strokeWidth: 2,\n      }}\n    >\n      {\n        (item, itemProps, index) => {\n          const { x, y } = itemProps\n\n          return (\n            <Rectangle\n              key={index}\n              x={x - 10}\n              y={y - 10}\n              height={20}\n              width={20}\n              options={{\n                fill: colors[0],\n                fillStyle: 'solid',\n                stroke: colors[0],\n              }}\n            />\n          )\n        }\n      }\n    </LineSeries>\n    <Tooltip />\n  </ChartProvider>\n)\n\nexport const WithCustomizedCurve = (props) => {\n  const c1 = d3Shape.curveCatmullRom.alpha(1)\n  return (\n    <ChartProvider\n      height={400}\n      data={data}\n      {...props}\n    >\n      <XAxis dataKey=\"name\" />\n      <YAxis />\n      <LineSeries\n        dataKey=\"value1\"\n        curve={c1}\n        options={{\n          stroke: colors[0],\n          strokeWidth: 2,\n        }}\n      />\n      <LineSeries\n        dataKey=\"value1\"\n        options={{\n          stroke: colors[3],\n          strokeWidth: 2,\n        }}\n      />\n      <Tooltip />\n    </ChartProvider>\n  )\n}\n",locationsMap:{"lineseries--basic":{startLoc:{col:21,line:27},endLoc:{col:1,line:51},startBody:{col:21,line:27},endBody:{col:1,line:51}},"lineseries--with-customized-shape":{startLoc:{col:35,line:53},endLoc:{col:1,line:91},startBody:{col:35,line:53},endBody:{col:1,line:91}},"lineseries--with-customized-curve":{startLoc:{col:35,line:93},endLoc:{col:1,line:121},startBody:{col:35,line:93},endBody:{col:1,line:121}}}}},title:"LineSeries",component:_src__WEBPACK_IMPORTED_MODULE_3__.f};var data=[{name:"A",value1:30,value2:35},{name:"B",value1:90,value2:17},{name:"C",value1:50,value2:23},{name:"D",value1:40,value2:15},{name:"E",value1:70,value2:39},{name:"G",value1:30,value2:25},{name:"H",value1:100,value2:31},{name:"I",value1:110,value2:32}],Basic=addSourceDecorator((function(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.d,__assign({height:400,data:data},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.i,{dataKey:"name"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.j,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.f,{dataKey:"value1",options:{stroke:_colors__WEBPACK_IMPORTED_MODULE_4__.a[0],strokeWidth:2}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.f,{dataKey:"value2",options:{stroke:_colors__WEBPACK_IMPORTED_MODULE_4__.a[3],strokeWidth:2}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.h,null))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/LineSeries.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),WithCustomizedShape=addSourceDecorator((function(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.d,__assign({height:400,data:data},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.i,{dataKey:"name"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.j,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.f,{dataKey:"value1",options:{stroke:_colors__WEBPACK_IMPORTED_MODULE_4__.a[0],strokeWidth:2}},(function(item,itemProps,index){var x=itemProps.x,y=itemProps.y;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_roughjs__WEBPACK_IMPORTED_MODULE_1__.d,{key:index,x:x-10,y:y-10,height:20,width:20,options:{fill:_colors__WEBPACK_IMPORTED_MODULE_4__.a[0],fillStyle:"solid",stroke:_colors__WEBPACK_IMPORTED_MODULE_4__.a[0]}})})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.h,null))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/LineSeries.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),WithCustomizedCurve=addSourceDecorator((function(props){var c1=d3_shape__WEBPACK_IMPORTED_MODULE_2__.c.alpha(1);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.d,__assign({height:400,data:data},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.i,{dataKey:"name"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.j,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.f,{dataKey:"value1",curve:c1,options:{stroke:_colors__WEBPACK_IMPORTED_MODULE_4__.a[0],strokeWidth:2}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.f,{dataKey:"value1",options:{stroke:_colors__WEBPACK_IMPORTED_MODULE_4__.a[3],strokeWidth:2}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.h,null))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/LineSeries.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},2:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(0),index_m=__webpack_require__(4),band=__webpack_require__(854),ChartContext=react.createContext(null),isNil=function(x){return null==x},isFunction=function(x){return"function"==typeof x},removeDuplicates=function(xs){var res={};return xs.forEach((function(key){res[key]=!0})),Object.keys(res)},getBandWidth=function(scale){var ticks="ticks"in scale?scale.ticks():scale.domain();if(ticks.length<=1){var _a=scale.range(),low=_a[0],high=_a[1];return Math.abs(high-low)}return Math.abs(scale(ticks[1])-scale(ticks[0]))},processTooltipHandlers=function(child,handlers){if(!react.isValidElement(child))return null;var additionalProps=Object.entries(handlers).reduce((function(acc,_a){var handlerName=_a[0],f=_a[1];return child.props[handlerName]?acc[handlerName]=function(e){f(e),child.props[handlerName](e)}:acc[handlerName]=f,acc}),{});return react.cloneElement(child,additionalProps)};try{isNil.displayName="isNil",isNil.__docgenInfo={description:"",displayName:"isNil",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.ts#isNil"]={docgenInfo:isNil.__docgenInfo,name:"isNil",path:"src/utils.ts#isNil"})}catch(__react_docgen_typescript_loader_error){}try{isFunction.displayName="isFunction",isFunction.__docgenInfo={description:"",displayName:"isFunction",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.ts#isFunction"]={docgenInfo:isFunction.__docgenInfo,name:"isFunction",path:"src/utils.ts#isFunction"})}catch(__react_docgen_typescript_loader_error){}try{removeDuplicates.displayName="removeDuplicates",removeDuplicates.__docgenInfo={description:"",displayName:"removeDuplicates",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.ts#removeDuplicates"]={docgenInfo:removeDuplicates.__docgenInfo,name:"removeDuplicates",path:"src/utils.ts#removeDuplicates"})}catch(__react_docgen_typescript_loader_error){}try{getBandWidth.displayName="getBandWidth",getBandWidth.__docgenInfo={description:"",displayName:"getBandWidth",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils.ts#getBandWidth"]={docgenInfo:getBandWidth.__docgenInfo,name:"getBandWidth",path:"src/utils.ts#getBandWidth"})}catch(__react_docgen_typescript_loader_error){}var useChartContext_assign=function(){return(useChartContext_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},getDomain=function(type,values){var min=Math.min.apply(Math,values);return"scaleBand"===type?values:[min>0?0:min,Math.max.apply(Math,values)]};function useChartContext(props,scaleKeyName){var value=react.useContext(ChartContext);if(null===value)throw Error("Chart Components must be wrapped inside <ChartProvider>!");var data=value.data,contentWidth=value.contentWidth,contentHeight=value.contentHeight,setScaleData=value.setScaleData,scaleData=value.scaleData,userXScale=scaleData.userXScale,userYScale=scaleData.userYScale,internalXScale=scaleData.internalXScale,internalYScale=scaleData.internalYScale,dataKey=props.dataKey;react.useEffect((function(){if(scaleKeyName){if("xDataKey"===scaleKeyName){if(userXScale)return userXScale.range([0,contentWidth]),void setScaleData((function(prev){return useChartContext_assign(useChartContext_assign({},prev),{xScale:userXScale,xDataKey:dataKey})}));var values=data.map((function(d){return d[dataKey]}));internalXScale.range([0,contentWidth]);var domain=getDomain("scaleBand",values);internalXScale.domain(domain),setScaleData((function(prev){var _a;return useChartContext_assign(useChartContext_assign({},prev),((_a={})[scaleKeyName]=dataKey,_a.xScale=internalXScale,_a))}))}if("yDataKey"===scaleKeyName&&dataKey)if(userYScale)userYScale.range([0,contentHeight]),setScaleData((function(prev){return useChartContext_assign(useChartContext_assign({},prev),{yScale:userYScale,yDataKey:dataKey})}));else{values=data.map((function(d){return d[dataKey]}));internalYScale.range([0,contentHeight]);domain=getDomain("scaleLinear",values);internalYScale.domain(domain),setScaleData((function(prev){var _a;return useChartContext_assign(useChartContext_assign({},prev),((_a={})[scaleKeyName]=dataKey,_a.yScale=internalYScale,_a))}))}var getSeriesScaleData=function(prev){var _a,barDataKeys=prev.barDataKeys,lineDataKeys=prev.lineDataKeys,yDataKey=prev.yDataKey,circleDataKeys=prev.circleDataKeys,prevDataKeys=prev[scaleKeyName],newDataKeys=prevDataKeys.indexOf(dataKey)>-1?prevDataKeys:__spreadArrays(prevDataKeys,[dataKey]),newScaleData=useChartContext_assign(useChartContext_assign({},prev),((_a={})[scaleKeyName]=newDataKeys,_a)),values=yDataKey?data.map((function(d){return d[yDataKey]})):removeDuplicates(__spreadArrays(newDataKeys,lineDataKeys,barDataKeys,circleDataKeys)).reduce((function(acc,groupName){return acc.push.apply(acc,data.map((function(item){return+item[groupName]}))),acc}),[]);if(userYScale)userYScale.range([contentHeight,0]),newScaleData.yScale=userYScale;else{var domain=getDomain("scaleLinear",values);internalYScale.domain(domain),internalYScale.range([contentHeight,0]),newScaleData.yScale=internalYScale}return newScaleData};"barDataKeys"===scaleKeyName&&setScaleData((function(prev){var newScaleData=getSeriesScaleData(prev),barScale=band.a().domain(newScaleData[scaleKeyName]);return newScaleData.barScale=barScale,newScaleData})),"lineDataKeys"!==scaleKeyName&&"circleDataKeys"!==scaleKeyName||setScaleData((function(prev){return getSeriesScaleData(prev)}))}}),[scaleKeyName,dataKey,contentHeight,contentWidth]);var margin=useChartContext_assign({},value.margin),width=value.width,height=value.height;return useChartContext_assign(useChartContext_assign({},value),{width:width,height:height,contentWidth:width-margin.left-margin.right,contentHeight:height-margin.top-margin.bottom,options:useChartContext_assign(useChartContext_assign({},value.options),props.options||{}),margin:margin,data:isNil(props.data)?value.data:props.data,scaleData:value.scaleData,setScaleData:value.setScaleData})}try{useChartContext.displayName="useChartContext",useChartContext.__docgenInfo={description:"",displayName:"useChartContext",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"T[]"}},width:{defaultValue:null,description:"If it doesn't set, it will keep the same with parent width",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"if it doesn't set, it will keep the same with parent height",name:"height",required:!1,type:{name:"number"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"RoughOptions"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"Margin"}},xScale:{defaultValue:null,description:"If it doesn't set, it will be d3.scaleBand().\nPassing a customized scale to override the default behavior.",name:"xScale",required:!1,type:{name:"any"}},yScale:{defaultValue:null,description:"If it doesn't set, it will be d3.scaleLiner().\nPassing a customized scale to override the default behavior.",name:"yScale",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/useChartContext.ts#useChartContext"]={docgenInfo:useChartContext.__docgenInfo,name:"useChartContext",path:"src/hooks/useChartContext.ts#useChartContext"})}catch(__react_docgen_typescript_loader_error){}var XAxis_assign=function(){return(XAxis_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},XAxis=function(props){if(!props.dataKey)throw Error("dataKey of XAxisProps is required");var _a=useChartContext(props,"xDataKey"),options=_a.options,contentHeight=_a.contentHeight,contentWidth=_a.contentWidth,xScale=_a.scaleData.xScale,tickSize=props.tickSize,fontSize=props.fontSize,format=props.format,tickCount=props.tickCount;if(!xScale)return null;var ticks="ticks"in xScale?xScale.ticks(tickCount):xScale.domain(),bandwidth=getBandWidth(xScale),y=contentHeight;return react.createElement(react.Fragment,null,react.createElement(index_m.b,{x1:0,y1:y,x2:contentWidth+bandwidth/2,y2:y,options:XAxis_assign({bowing:.2},options)}),ticks.map((function(t,index){return react.createElement(react.Fragment,{key:index},react.createElement(index_m.b,{x1:xScale(t)+bandwidth/2,y1:y,x2:xScale(t)+bandwidth/2,y2:y+tickSize,options:XAxis_assign({strokeWidth:2},options)}),react.createElement("text",{x:xScale(t)+bandwidth/2,y:y+tickSize+fontSize,stroke:options.stroke,fill:options.stroke,textAnchor:"middle"},isFunction(format)?format(t):String(t)))})))};XAxis.displayName="XAxis",XAxis.defaultProps={tickSize:10,fontSize:16,tickCount:10};try{XAxis.displayName="XAxis",XAxis.__docgenInfo={description:"",displayName:"XAxis",props:{dataKey:{defaultValue:null,description:"",name:"dataKey",required:!0,type:{name:"string"}},tickSize:{defaultValue:{value:10},description:"",name:"tickSize",required:!1,type:{name:"number"}},fontSize:{defaultValue:{value:16},description:"",name:"fontSize",required:!1,type:{name:"number"}},format:{defaultValue:null,description:"",name:"format",required:!1,type:{name:"(tick: string) => string"}},tickCount:{defaultValue:{value:10},description:"",name:"tickCount",required:!1,type:{name:"number"}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any[]"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"RoughOptions"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/XAxis.tsx#XAxis"]={docgenInfo:XAxis.__docgenInfo,name:"XAxis",path:"src/components/XAxis.tsx#XAxis"})}catch(__react_docgen_typescript_loader_error){}var YAxis_assign=function(){return(YAxis_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},YAxis=function(props){var tickSize=props.tickSize,fontSize=props.fontSize,format=props.format,tickCount=props.tickCount,_a=useChartContext(props,"yDataKey"),options=_a.options,contentHeight=_a.contentHeight,scale=_a.scaleData.yScale;if(!scale)return null;var ticks=scale.ticks?scale.ticks(tickCount):scale.domain();return react.createElement(react.Fragment,null,react.createElement(index_m.b,{x1:0,y1:0,x2:0,y2:contentHeight,options:YAxis_assign({bowing:.2},options)}),ticks.map((function(t,index){return react.createElement(react.Fragment,{key:index},react.createElement(index_m.b,{x1:0-tickSize,x2:0,y1:scale(t),y2:scale(t),options:YAxis_assign({strokeWidth:2},options)}),react.createElement("text",{x:0-tickSize,y:scale(t)+fontSize/3,stroke:options.stroke,fill:options.stroke,textAnchor:"end"},isFunction(format)?format(t):String(t)))})))};YAxis.displayName="YAxis",YAxis.defaultProps={tickSize:10,fontSize:16,tickCount:10};try{YAxis.displayName="YAxis",YAxis.__docgenInfo={description:"",displayName:"YAxis",props:{dataKey:{defaultValue:null,description:"",name:"dataKey",required:!1,type:{name:"string"}},tickSize:{defaultValue:{value:10},description:"",name:"tickSize",required:!1,type:{name:"number"}},tickCount:{defaultValue:{value:10},description:"",name:"tickCount",required:!1,type:{name:"number"}},fontSize:{defaultValue:{value:16},description:"",name:"fontSize",required:!1,type:{name:"number"}},format:{defaultValue:null,description:"",name:"format",required:!1,type:{name:"(tick: string) => string"}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any[]"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"RoughOptions"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/YAxis.tsx#YAxis"]={docgenInfo:YAxis.__docgenInfo,name:"YAxis",path:"src/components/YAxis.tsx#YAxis"})}catch(__react_docgen_typescript_loader_error){}var useTooltipGenerator_assign=function(){return(useTooltipGenerator_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},mousePositions=function(event){var x,y;return!!document.all?(x=event.clientX+document.body.scrollLeft,y=event.clientY+document.body.scrollTop):(x=window.Event?event.pageX:event.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),y=window.Event?event.pageY:event.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)),{x:x,y:y}},useTooltipGenerator=function(props){if(!props.dataKey)throw Error("dataKey is Required!");var setTooltipData=useChartContext(props).setTooltipData;return{generateHandlers:function(item,content){return void 0===content&&(content={name:"",value:""}),{onMouseOver:function(e){var _a=mousePositions(e),x=_a.x,y=_a.y;setTooltipData((function(prev){return useTooltipGenerator_assign(useTooltipGenerator_assign({},prev),{showToolTip:!0,x:x,y:y,name:content.name,value:content.value,activeItem:item})}))},onMouseMove:function(e){var _a=mousePositions(e),x=_a.x,y=_a.y;setTooltipData((function(prev){return useTooltipGenerator_assign(useTooltipGenerator_assign({},prev),{showToolTip:!0,x:x,y:y,activeItem:item})}))},onMouseOut:function(){setTooltipData((function(prev){return useTooltipGenerator_assign(useTooltipGenerator_assign({},prev),{showToolTip:!1})}))}}}}};try{useTooltipGenerator.displayName="useTooltipGenerator",useTooltipGenerator.__docgenInfo={description:"",displayName:"useTooltipGenerator",props:{dataKey:{defaultValue:null,description:"",name:"dataKey",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/useTooltipGenerator.ts#useTooltipGenerator"]={docgenInfo:useTooltipGenerator.__docgenInfo,name:"useTooltipGenerator",path:"src/hooks/useTooltipGenerator.ts#useTooltipGenerator"})}catch(__react_docgen_typescript_loader_error){}var BarSeries_assign=function(){return(BarSeries_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},BarSeries=function(props){var dataKey=props.dataKey,options=props.options,_a=useChartContext(props,"barDataKeys"),data=_a.data,contentHeight=_a.contentHeight,scaleData=_a.scaleData,xScale=scaleData.xScale,barScale=scaleData.barScale,yScale=scaleData.yScale,xDataKey=scaleData.xDataKey,generateHandlers=useTooltipGenerator(props).generateHandlers;if(!dataKey)throw Error("dataKey is Required!");if(!(xScale&&barScale&&yScale&&xDataKey))return null;var width=getBandWidth(xScale),offset=.2*width/2,children=props.children;return react.createElement(react.Fragment,null,data.map((function(item,index){var handlers=generateHandlers(item,{name:""+dataKey,value:""+item[dataKey]}),childProps=function(item){var x=xScale(item[xDataKey]);barScale.range([x+offset,x+width-offset]);var min=yScale.domain()[0],y0=yScale(0),itemY=yScale(item[dataKey]),y=min>=0?itemY:yScale(Math.max(item[dataKey],0)),height=min>=0?contentHeight-itemY:Math.abs(y0-itemY);return{x:barScale(dataKey),y:y,width:barScale.bandwidth(),height:height,options:BarSeries_assign({fill:"black"},options)}}(item);return isFunction(children)?processTooltipHandlers(children(item,childProps,index),handlers):react.createElement(index_m.d,BarSeries_assign({key:index},childProps,handlers))})))};BarSeries.displayName="BarSeries";try{BarSeries.displayName="BarSeries",BarSeries.__docgenInfo={description:"",displayName:"BarSeries",props:{dataKey:{defaultValue:null,description:"",name:"dataKey",required:!0,type:{name:"string"}},children:{defaultValue:null,description:"Use for handling event and rendering customized shapes/styles",name:"children",required:!1,type:{name:"(item: T, props: RectangleProps, index: number) => Element"}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any[]"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"RoughOptions"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BarSeries.tsx#BarSeries"]={docgenInfo:BarSeries.__docgenInfo,name:"BarSeries",path:"src/components/BarSeries.tsx#BarSeries"})}catch(__react_docgen_typescript_loader_error){}var d3_shape_src=__webpack_require__(39),Arc_assign=function(){return(Arc_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},Arc=function(props){var innerRadius=props.innerRadius,outerRadius=props.outerRadius,startAngle=props.startAngle,endAngle=props.endAngle,padAngle=props.padAngle,options=props.options,cx=props.cx,cy=props.cy,rest=__rest(props,["innerRadius","outerRadius","startAngle","endAngle","padAngle","options","cx","cy"]),d=d3_shape_src.a()({innerRadius:innerRadius,outerRadius:outerRadius,startAngle:startAngle,endAngle:endAngle,padAngle:padAngle});return react.createElement(index_m.c,Arc_assign({d:d,transform:"translate("+cx+", "+cy+")",options:options},rest))};Arc.displayName="RcArc",Arc.defaultProps={innerRadius:0,outerRadius:0,startAngle:0};try{RcArc.displayName="RcArc",RcArc.__docgenInfo={description:"",displayName:"RcArc",props:{innerRadius:{defaultValue:{value:0},description:"",name:"innerRadius",required:!1,type:{name:"number"}},outerRadius:{defaultValue:{value:0},description:"",name:"outerRadius",required:!1,type:{name:"number"}},startAngle:{defaultValue:{value:0},description:"",name:"startAngle",required:!1,type:{name:"number"}},endAngle:{defaultValue:null,description:"",name:"endAngle",required:!1,type:{name:"number"}},padAngle:{defaultValue:null,description:"",name:"padAngle",required:!1,type:{name:"number"}},cx:{defaultValue:null,description:"",name:"cx",required:!1,type:{name:"number"}},cy:{defaultValue:null,description:"",name:"cy",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Arc.tsx#RcArc"]={docgenInfo:RcArc.__docgenInfo,name:"RcArc",path:"src/components/Arc.tsx#RcArc"})}catch(__react_docgen_typescript_loader_error){}try{Arc.displayName="Arc",Arc.__docgenInfo={description:"",displayName:"Arc",props:{innerRadius:{defaultValue:{value:0},description:"",name:"innerRadius",required:!1,type:{name:"number"}},outerRadius:{defaultValue:{value:0},description:"",name:"outerRadius",required:!1,type:{name:"number"}},startAngle:{defaultValue:{value:0},description:"",name:"startAngle",required:!1,type:{name:"number"}},endAngle:{defaultValue:null,description:"",name:"endAngle",required:!1,type:{name:"number"}},padAngle:{defaultValue:null,description:"",name:"padAngle",required:!1,type:{name:"number"}},cx:{defaultValue:null,description:"",name:"cx",required:!1,type:{name:"number"}},cy:{defaultValue:null,description:"",name:"cy",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Arc.tsx#Arc"]={docgenInfo:Arc.__docgenInfo,name:"Arc",path:"src/components/Arc.tsx#Arc"})}catch(__react_docgen_typescript_loader_error){}var ArcSeries_assign=function(){return(ArcSeries_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},ArcSeries=function(props){var _a=useChartContext(props),data=_a.data,options=_a.options,contentHeight=_a.contentHeight,contentWidth=_a.contentWidth,generateHandlers=useTooltipGenerator(props).generateHandlers,dataKey=props.dataKey,cx=props.cx,cy=props.cy,innerRadiusPercent=props.innerRadiusPercent,outerRadiusPercent=props.outerRadiusPercent,padAngleProp=props.padAngle,startAngleProp=props.startAngle,endAngleProp=props.endAngle,children=props.children,newCx=isNil(cx)?contentWidth/2:cx,newCy=isNil(cy)?contentHeight/2:cy,radius=Math.min(newCx,newCy),arcsData=d3_shape_src.e().startAngle(startAngleProp).padAngle(padAngleProp).endAngle(endAngleProp)(data.map((function(d){return d[dataKey]}))).map((function(arc){var startAngle=arc.startAngle,endAngle=arc.endAngle,padAngle=arc.padAngle;return{innerRadius:radius*innerRadiusPercent,outerRadius:radius*outerRadiusPercent,startAngle:startAngle,endAngle:endAngle,padAngle:padAngle}})),total=data.reduce((function(acc,d){return acc+d[dataKey]}),0);return react.createElement(react.Fragment,null,arcsData.map((function(arcProps,index){var item=data[index],percent=(item[dataKey]/total*100).toPrecision(3),handlers=generateHandlers(item,{name:dataKey+" "+item[dataKey],value:percent+"%"}),childProps=ArcSeries_assign(ArcSeries_assign({},arcProps),{cx:newCx,cy:newCy,options:ArcSeries_assign({fill:"black"},options)});return isFunction(children)?processTooltipHandlers(children(item,childProps,index),handlers):react.createElement(Arc,ArcSeries_assign({key:index},childProps,handlers))})))};ArcSeries.displayName="ArcSeries",ArcSeries.defaultProps={innerRadiusPercent:0,outerRadiusPercent:1,padAngle:0,startAngle:0,endAngle:2*Math.PI};try{ArcSeries.displayName="ArcSeries",ArcSeries.__docgenInfo={description:"",displayName:"ArcSeries",props:{dataKey:{defaultValue:null,description:"",name:"dataKey",required:!0,type:{name:"string"}},innerRadiusPercent:{defaultValue:{value:0},description:"",name:"innerRadiusPercent",required:!1,type:{name:"number"}},outerRadiusPercent:{defaultValue:{value:1},description:"",name:"outerRadiusPercent",required:!1,type:{name:"number"}},cx:{defaultValue:null,description:"",name:"cx",required:!1,type:{name:"number"}},cy:{defaultValue:null,description:"",name:"cy",required:!1,type:{name:"number"}},padAngle:{defaultValue:{value:0},description:"",name:"padAngle",required:!1,type:{name:"number"}},startAngle:{defaultValue:{value:0},description:"",name:"startAngle",required:!1,type:{name:"number"}},endAngle:{defaultValue:null,description:"Default is Math.PI * 2",name:"endAngle",required:!1,type:{name:"number"}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any[]"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"RoughOptions"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ArcSeries.tsx#ArcSeries"]={docgenInfo:ArcSeries.__docgenInfo,name:"ArcSeries",path:"src/components/ArcSeries.tsx#ArcSeries"})}catch(__react_docgen_typescript_loader_error){}var Y0_assign=function(){return(Y0_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},Y0=function(props){var _a=useChartContext(props),yScale=_a.scaleData.yScale,contentWidth=_a.contentWidth;return yScale?react.createElement(index_m.b,{y1:yScale(0),y2:yScale(0),x1:0,x2:contentWidth,strokeDasharray:"30",options:Y0_assign({bowing:.2},props.options)}):null};Y0.displayName="Y0";try{Y0.displayName="Y0",Y0.__docgenInfo={description:"",displayName:"Y0",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any[]"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"RoughOptions"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Y0.tsx#Y0"]={docgenInfo:Y0.__docgenInfo,name:"Y0",path:"src/components/Y0.tsx#Y0"})}catch(__react_docgen_typescript_loader_error){}var CircleSeries_assign=function(){return(CircleSeries_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},CircleSeries=function(props){var _a=useChartContext(props,"circleDataKeys"),scaleData=_a.scaleData,data=_a.data,options=_a.options,xScale=scaleData.xScale,yScale=scaleData.yScale,xDataKey=scaleData.xDataKey,dataKey=props.dataKey,generateHandlers=useTooltipGenerator(props).generateHandlers;if(!(xScale&&yScale&&dataKey&&xDataKey))return null;var bandwidth=getBandWidth(xScale),points=data.map((function(item){return[xScale(item[xDataKey]),yScale(item[dataKey])]})),children=props.children;return react.createElement(react.Fragment,null,points.map((function(_a,index){var x=_a[0],y=_a[1],childProps={x:x+bandwidth/2,y:y,diameter:10,options:CircleSeries_assign({},options)},item=data[index],handlers=generateHandlers(data[index],{name:dataKey+" "+item[xDataKey],value:""+item[dataKey]});return isFunction(children)?processTooltipHandlers(children(data[index],childProps,index),handlers):react.createElement(index_m.a,CircleSeries_assign({key:index},childProps,handlers))})))};CircleSeries.displayName="CircleSeries";try{CircleSeries.displayName="CircleSeries",CircleSeries.__docgenInfo={description:"",displayName:"CircleSeries",props:{dataKey:{defaultValue:null,description:"",name:"dataKey",required:!0,type:{name:"keyof T"}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any[]"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"RoughOptions"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CircleSeries.tsx#CircleSeries"]={docgenInfo:CircleSeries.__docgenInfo,name:"CircleSeries",path:"src/components/CircleSeries.tsx#CircleSeries"})}catch(__react_docgen_typescript_loader_error){}var LineSeries_assign=function(){return(LineSeries_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},LineSeries=function(props){var _a=useChartContext(props,"lineDataKeys"),scaleData=_a.scaleData,data=_a.data,options=_a.options,xScale=scaleData.xScale,yScale=scaleData.yScale,xDataKey=scaleData.xDataKey,dataKey=props.dataKey,curve=props.curve;if(!(xScale&&yScale&&dataKey&&xDataKey))return null;var bandwidth=getBandWidth(xScale),points=data.map((function(item){return[xScale(item[xDataKey]),yScale(item[dataKey])]})),path=d3_shape_src.d().curve(curve)(points);return react.createElement(react.Fragment,null,react.createElement(index_m.c,{transform:"translate("+bandwidth/2+", 0)",d:path,options:options}),react.createElement(CircleSeries,LineSeries_assign({},props)))};LineSeries.displayName="LineSeries",LineSeries.defaultProps={curve:d3_shape_src.b.tension(.5)};try{LineSeries.displayName="LineSeries",LineSeries.__docgenInfo={description:"",displayName:"LineSeries",props:{dataKey:{defaultValue:null,description:"",name:"dataKey",required:!0,type:{name:"keyof T"}},curve:{defaultValue:null,description:"",name:"curve",required:!1,type:{name:"CurveFactory | CurveFactoryLineOnly"}},data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any[]"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"RoughOptions"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LineSeries.tsx#LineSeries"]={docgenInfo:LineSeries.__docgenInfo,name:"LineSeries",path:"src/components/LineSeries.tsx#LineSeries"})}catch(__react_docgen_typescript_loader_error){}var react_dom=__webpack_require__(83),Tooltip_assign=function(){return(Tooltip_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},Tooltip=function(props){var _a=useChartContext(props),tooltipData=_a.tooltipData,setTooltipData=_a.setTooltipData,contentWidth=_a.contentWidth,options=_a.options,x=tooltipData.x,y=tooltipData.y,showToolTip=tooltipData.showToolTip,name=tooltipData.name,value=tooltipData.value,activeItem=tooltipData.activeItem,propsWidth=props.width,height=props.height,fontSize=props.fontSize,children=props.children,_b=react.useState(120),internalWidth=_b[0],setWidth=_b[1],textRef=react.useRef(),width=isNil(propsWidth)?internalWidth:propsWidth;if(react.useEffect((function(){var node=textRef.current;if(node){var textWidth=node.getBBox().width;setWidth(textWidth+30)}}),[textRef.current]),!showToolTip||!activeItem)return null;var left=contentWidth-x<width+20?x-20-width:x+20,ellipse=function(s,length){return void 0===s&&(s=""),s.length>length?s.slice(0,length)+"...":s},content=react.createElement("div",{style:{position:"absolute",left:left,top:y-height/2}},react.createElement("svg",{width:width+4,height:height+4},react.createElement("g",{transform:"translate(2, 2)"},react.createElement(index_m.e,null,react.createElement(index_m.d,{width:width,height:height,onMouseOver:function(e){setTooltipData((function(prev){return Tooltip_assign(Tooltip_assign({},prev),{x:e.clientX,y:e.clientY})}))},onMouseMove:function(e){setTooltipData((function(prev){return Tooltip_assign(Tooltip_assign({},prev),{x:e.clientX,y:e.clientY})}))},onMouseOut:function(){setTooltipData((function(prev){return Tooltip_assign(Tooltip_assign({},prev),{showToolTip:!1})}))},options:Tooltip_assign({fill:"white",fillStyle:"solid",strokeWidth:2},options)})),react.createElement(index_m.e,null,function(){var text=function(s){return react.createElement("text",{ref:textRef,textAnchor:"middle",stroke:"black",fill:"black",x:width/2,y:height/2+fontSize/3},s)};if(isFunction(children)){var content_1=children(activeItem);return"string"==typeof content_1?text(content_1):content_1}return text(ellipse(name,20)+": "+ellipse(value,5))}()))));return react_dom.createPortal(content,document.body)};Tooltip.displayName="Tooltip",Tooltip.defaultProps={height:40,fontSize:16};try{Tooltip.displayName="Tooltip",Tooltip.__docgenInfo={description:"",displayName:"Tooltip",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:40},description:"",name:"height",required:!1,type:{name:"number"}},fontSize:{defaultValue:{value:16},description:"",name:"fontSize",required:!1,type:{name:"number"}},children:{defaultValue:null,description:"Use for rendering customized content",name:"children",required:!1,type:{name:"((activeItem: any) => ReactNode) | (((activeItem: any) => ReactNode) & string) | (((activeItem: any) => ReactNode) & number) | (((activeItem: any) => ReactNode) & false) | (((activeItem: any) => ReactNode) & true) | (((activeItem: any) => ReactNode) & ReactElement<...>) | (((activeItem: any) => ReactNode) & ReactNod..."}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"RoughOptions"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Tooltip.tsx#Tooltip"]={docgenInfo:Tooltip.__docgenInfo,name:"Tooltip",path:"src/components/Tooltip.tsx#Tooltip"})}catch(__react_docgen_typescript_loader_error){}var linear=__webpack_require__(851),ChartProvider_assign=function(){return(ChartProvider_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},Provider=ChartContext.Provider,defaultMargin={top:10,right:10,bottom:50,left:50},ChartProvider=function(props){var _a=react.useState(0),innerHeight=_a[0],setInnerHeight=_a[1],_b=react.useState(0),innerWidth=_b[0],setInnerWidth=_b[1],ref=react.useRef(),internalXScale=band.a(),internalYScale=linear.a(),_c=react.useState({barDataKeys:[],lineDataKeys:[],circleDataKeys:[],xScale:props.xScale||internalXScale,yScale:props.yScale||internalYScale,userXScale:props.xScale,userYScale:props.yScale,internalXScale:internalXScale,internalYScale:internalYScale}),scaleData=_c[0],setScaleData=_c[1],_d=react.useState({x:-1,y:-1,showToolTip:!1,name:"",value:"",activeItem:null}),tooltipData=_d[0],setTooltipData=_d[1];react.useEffect((function(){var handleResize=function(){if(ref.current&&(isNil(props.height)||isNil(props.width))){var boundingRect=ref.current.parentElement.getBoundingClientRect();setInnerHeight(boundingRect.height),setInnerWidth(boundingRect.width)}};return handleResize(),window.addEventListener("resize",handleResize),function(){return window.removeEventListener("resize",handleResize)}}),[props.height,props.width,ref.current]);var height=isNil(props.height)?innerHeight:props.height,width=isNil(props.width)?innerWidth:props.width,propsMargin=props.margin,margin=ChartProvider_assign(ChartProvider_assign({},defaultMargin),propsMargin);return react.createElement(Provider,{value:ChartProvider_assign(ChartProvider_assign({},props),{height:height,width:width,margin:margin,scaleData:scaleData,setScaleData:function(f){return setScaleData(f)},contentHeight:height-margin.bottom-margin.top,contentWidth:width-margin.left-margin.right,tooltipData:tooltipData,setTooltipData:function(f){return setTooltipData(f)}})},react.createElement("svg",{height:height,width:width,ref:ref},react.createElement(index_m.e,{transform:"translate("+margin.left+", "+margin.top+")",config:{options:props.options}},height&&width&&props.children)))};ChartProvider.displayName="ChartProvider",ChartProvider.defaultProps={data:[],options:{},margin:defaultMargin};index_m.e;try{ChartProvider.displayName="ChartProvider",ChartProvider.__docgenInfo={description:"",displayName:"ChartProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChartProvider.tsx#ChartProvider"]={docgenInfo:ChartProvider.__docgenInfo,name:"ChartProvider",path:"src/components/ChartProvider.tsx#ChartProvider"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__.d(__webpack_exports__,"i",(function(){return XAxis})),__webpack_require__.d(__webpack_exports__,"j",(function(){return YAxis})),__webpack_require__.d(__webpack_exports__,"c",(function(){return BarSeries})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ArcSeries})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Arc})),__webpack_require__.d(__webpack_exports__,"g",(function(){return index_m.d})),__webpack_require__.d(__webpack_exports__,"f",(function(){return LineSeries})),__webpack_require__.d(__webpack_exports__,"e",(function(){return CircleSeries})),__webpack_require__.d(__webpack_exports__,"h",(function(){return Tooltip})),__webpack_require__.d(__webpack_exports__,"d",(function(){return ChartProvider}));try{src.displayName="src",src.__docgenInfo={description:"",displayName:"src",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any[]"}},width:{defaultValue:null,description:"If it doesn't set, it will keep the same with parent width",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"if it doesn't set, it will keep the same with parent height",name:"height",required:!1,type:{name:"number"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"RoughOptions"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"Margin"}},xScale:{defaultValue:null,description:"If it doesn't set, it will be d3.scaleBand().\nPassing a customized scale to override the default behavior.",name:"xScale",required:!1,type:{name:"any"}},yScale:{defaultValue:null,description:"If it doesn't set, it will be d3.scaleLiner().\nPassing a customized scale to override the default behavior.",name:"yScale",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#src"]={docgenInfo:src.__docgenInfo,name:"src",path:"src/index.tsx#src"})}catch(__react_docgen_typescript_loader_error){}},233:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_roughjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),d3_scale__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(851),_src__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),_colors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},addSourceDecorator=(__webpack_require__(45).withSource,__webpack_require__(45).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import * as React from 'react'\nimport { Circle } from 'react-roughjs'\nimport * as d3Scale from 'd3-scale'\nimport {\n  YAxis, XAxis, CircleSeries,\n  ChartProvider, Tooltip,\n} from '../src'\nimport { colors } from './colors'\n\nexport default {\n  title: 'CircleSeries',\n  component: CircleSeries,\n}\n\nconst data = [\n  { height: 150, weight: 153 },\n  { height: 151, weight: 116 },\n  { height: 150, weight: 120 },\n  { height: 152, weight: 172 },\n  { height: 160, weight: 66 },\n  { height: 165, weight: 219 },\n  { height: 170, weight: 117 },\n  { height: 175, weight: 77 },\n  { height: 180, weight: 205 },\n  { height: 185, weight: 126 },\n  { height: 182, weight: 134 },\n  { height: 164, weight: 179 },\n]\n\nexport const Basic = props => (\n  <ChartProvider\n    xScale={d3Scale.scaleLinear().domain([120, 200])}\n    data={data}\n    height={400}\n    {...props}\n  >\n    <YAxis dataKey=\"weight\" format={tick => `${tick} kg`} />\n    <XAxis dataKey=\"height\" format={tick => `${tick} cm`} />\n    <CircleSeries\n      dataKey=\"weight\"\n    >\n      {(item, itemProps, index) => (\n        <Circle\n          key={index}\n          {...itemProps}\n          diameter={10 + index * 5}\n          options={{\n            fill: colors[index % colors.length],\n          }}\n        />\n      )}\n\n    </CircleSeries>\n    <Tooltip />\n  </ChartProvider>\n)\n",locationsMap:{"circleseries--basic":{startLoc:{col:21,line:30},endLoc:{col:1,line:56},startBody:{col:21,line:30},endBody:{col:1,line:56}}}}},title:"CircleSeries",component:_src__WEBPACK_IMPORTED_MODULE_3__.e};var data=[{height:150,weight:153},{height:151,weight:116},{height:150,weight:120},{height:152,weight:172},{height:160,weight:66},{height:165,weight:219},{height:170,weight:117},{height:175,weight:77},{height:180,weight:205},{height:185,weight:126},{height:182,weight:134},{height:164,weight:179}],Basic=addSourceDecorator((function(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.d,__assign({xScale:d3_scale__WEBPACK_IMPORTED_MODULE_2__.a().domain([120,200]),data:data,height:400},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.j,{dataKey:"weight",format:function(tick){return tick+" kg"}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.i,{dataKey:"height",format:function(tick){return tick+" cm"}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.e,{dataKey:"weight"},(function(item,itemProps,index){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_roughjs__WEBPACK_IMPORTED_MODULE_1__.a,__assign({key:index},itemProps,{diameter:10+5*index,options:{fill:_colors__WEBPACK_IMPORTED_MODULE_4__.a[index%_colors__WEBPACK_IMPORTED_MODULE_4__.a.length]}}))})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.h,null))}),{__STORY__:"import * as React from 'react'\nimport { Circle } from 'react-roughjs'\nimport * as d3Scale from 'd3-scale'\nimport {\n  YAxis, XAxis, CircleSeries,\n  ChartProvider, Tooltip,\n} from '../src'\nimport { colors } from './colors'\n\nexport default {\n  title: 'CircleSeries',\n  component: CircleSeries,\n}\n\nconst data = [\n  { height: 150, weight: 153 },\n  { height: 151, weight: 116 },\n  { height: 150, weight: 120 },\n  { height: 152, weight: 172 },\n  { height: 160, weight: 66 },\n  { height: 165, weight: 219 },\n  { height: 170, weight: 117 },\n  { height: 175, weight: 77 },\n  { height: 180, weight: 205 },\n  { height: 185, weight: 126 },\n  { height: 182, weight: 134 },\n  { height: 164, weight: 179 },\n]\n\nexport const Basic = props => (\n  <ChartProvider\n    xScale={d3Scale.scaleLinear().domain([120, 200])}\n    data={data}\n    height={400}\n    {...props}\n  >\n    <YAxis dataKey=\"weight\" format={tick => `${tick} kg`} />\n    <XAxis dataKey=\"height\" format={tick => `${tick} cm`} />\n    <CircleSeries\n      dataKey=\"weight\"\n    >\n      {(item, itemProps, index) => (\n        <Circle\n          key={index}\n          {...itemProps}\n          diameter={10 + index * 5}\n          options={{\n            fill: colors[index % colors.length],\n          }}\n        />\n      )}\n\n    </CircleSeries>\n    <Tooltip />\n  </ChartProvider>\n)\n",__ADDS_MAP__:{"circleseries--basic":{startLoc:{col:21,line:30},endLoc:{col:1,line:56},startBody:{col:21,line:30},endBody:{col:1,line:56}}},__MAIN_FILE_LOCATION__:"/CircleSeries.stories.tsx",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/Users/beizhedenglong/Desktop/p/rough-charts/packages/react-rough-charts/stories",__IDS_TO_FRAMEWORKS__:{}})},234:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_src__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},addSourceDecorator=(__webpack_require__(45).withSource,__webpack_require__(45).addSource);__webpack_exports__.default={parameters:{storySource:{source:"import * as React from 'react'\nimport {\n  LineSeries, Tooltip, BarSeries,\n  ChartProvider, XAxis, YAxis,\n} from '../src'\nimport { colors } from './colors'\n\n\nexport default {\n  title: 'Compose Series In Rough Charts',\n}\n\nconst data = [\n  { name: 'A', value1: 30, value2: 35 },\n  { name: 'B', value1: 90, value2: 17 },\n  { name: 'C', value1: 50, value2: 23 },\n  { name: 'D', value1: 40, value2: 15 },\n  { name: 'E', value1: 70, value2: 39 },\n  { name: 'G', value1: 30, value2: 25 },\n  { name: 'H', value1: 100, value2: 31 },\n  { name: 'I', value1: 110, value2: 32 },\n]\n\nexport const Basic = props => (\n  <ChartProvider\n    height={400}\n    width={props.width}\n    data={data}\n    {...props}\n  >\n    <XAxis dataKey=\"name\" />\n    <YAxis />\n    <BarSeries\n      dataKey=\"value1\"\n      options={{\n        fill: colors[1],\n      }}\n    />\n    <LineSeries\n      dataKey=\"value1\"\n      options={{\n        stroke: colors[0],\n        strokeWidth: 2,\n      }}\n    />\n    <Tooltip />\n  </ChartProvider>\n)\n",locationsMap:{"compose-series-in-rough-charts--basic":{startLoc:{col:21,line:24},endLoc:{col:1,line:48},startBody:{col:21,line:24},endBody:{col:1,line:48}}}}},title:"Compose Series In Rough Charts"};var data=[{name:"A",value1:30,value2:35},{name:"B",value1:90,value2:17},{name:"C",value1:50,value2:23},{name:"D",value1:40,value2:15},{name:"E",value1:70,value2:39},{name:"G",value1:30,value2:25},{name:"H",value1:100,value2:31},{name:"I",value1:110,value2:32}],Basic=addSourceDecorator((function(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.d,__assign({height:400,width:props.width,data:data},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.i,{dataKey:"name"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.j,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.c,{dataKey:"value1",options:{fill:_colors__WEBPACK_IMPORTED_MODULE_2__.a[1]}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.f,{dataKey:"value1",options:{stroke:_colors__WEBPACK_IMPORTED_MODULE_2__.a[0],strokeWidth:2}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.h,null))}),{__STORY__:"import * as React from 'react'\nimport {\n  LineSeries, Tooltip, BarSeries,\n  ChartProvider, XAxis, YAxis,\n} from '../src'\nimport { colors } from './colors'\n\n\nexport default {\n  title: 'Compose Series In Rough Charts',\n}\n\nconst data = [\n  { name: 'A', value1: 30, value2: 35 },\n  { name: 'B', value1: 90, value2: 17 },\n  { name: 'C', value1: 50, value2: 23 },\n  { name: 'D', value1: 40, value2: 15 },\n  { name: 'E', value1: 70, value2: 39 },\n  { name: 'G', value1: 30, value2: 25 },\n  { name: 'H', value1: 100, value2: 31 },\n  { name: 'I', value1: 110, value2: 32 },\n]\n\nexport const Basic = props => (\n  <ChartProvider\n    height={400}\n    width={props.width}\n    data={data}\n    {...props}\n  >\n    <XAxis dataKey=\"name\" />\n    <YAxis />\n    <BarSeries\n      dataKey=\"value1\"\n      options={{\n        fill: colors[1],\n      }}\n    />\n    <LineSeries\n      dataKey=\"value1\"\n      options={{\n        stroke: colors[0],\n        strokeWidth: 2,\n      }}\n    />\n    <Tooltip />\n  </ChartProvider>\n)\n",__ADDS_MAP__:{"compose-series-in-rough-charts--basic":{startLoc:{col:21,line:24},endLoc:{col:1,line:48},startBody:{col:21,line:24},endBody:{col:1,line:48}}},__MAIN_FILE_LOCATION__:"/ComposeSeries.stories.tsx",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/Users/beizhedenglong/Desktop/p/rough-charts/packages/react-rough-charts/stories",__IDS_TO_FRAMEWORKS__:{}})},382:function(module,exports,__webpack_require__){__webpack_require__(383),__webpack_require__(495),module.exports=__webpack_require__(496)},4:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Circle})),__webpack_require__.d(__webpack_exports__,"b",(function(){return Line})),__webpack_require__.d(__webpack_exports__,"c",(function(){return Path})),__webpack_require__.d(__webpack_exports__,"d",(function(){return Rectangle})),__webpack_require__.d(__webpack_exports__,"e",(function(){return RoughProvider}));var d3_shape__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39),shallowequal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(378),shallowequal__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(shallowequal__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),roughjs_dist_rough_umd__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(379),roughjs_dist_rough_umd__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(roughjs_dist_rough_umd__WEBPACK_IMPORTED_MODULE_3__),useShallowEqual=function(f,deps){var depsA,depsB,ref=Object(react__WEBPACK_IMPORTED_MODULE_2__.useRef)([]);void 0===(depsA=ref.current)&&(depsA=[]),void 0===(depsB=deps)&&(depsB=[]),depsA.length===depsB.length&&depsA.every((function(a,index){return shallowequal__WEBPACK_IMPORTED_MODULE_1___default()(a,depsB[index])}))||(ref.current=deps),Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(f,ref.current)},Context=Object(react__WEBPACK_IMPORTED_MODULE_2__.createContext)(null),loopHandlers=function(node,fName,handlers){Object.keys(handlers).forEach((function(name){var eventName=name.replace("on","").toLowerCase();node[fName](eventName,handlers[name])}))};var createSvgNode=function(tagName,attributes){var attrs=Object.assign({},{opacity:"0",fill:"black",stroke:"black"},attributes),newTagName=tagName;if("arc"===tagName){newTagName="path";var arc$$1=Object(d3_shape__WEBPACK_IMPORTED_MODULE_0__.a)(),innerRadius=attrs.innerRadius,outerRadius=attrs.outerRadius,startAngle=attrs.startAngle,endAngle=attrs.endAngle,x=attrs.x,y=attrs.y,rest=function objectWithoutProperties(obj,exclude){var target={};for(var k in obj)Object.prototype.hasOwnProperty.call(obj,k)&&-1===exclude.indexOf(k)&&(target[k]=obj[k]);return target}(attrs,["innerRadius","outerRadius","startAngle","endAngle","x","y"]),d=arc$$1({innerRadius:innerRadius||0,outerRadius:outerRadius||0,startAngle:startAngle||0,endAngle:endAngle||0});attrs=Object.assign({},attrs,rest,{d:d,transform:"translate("+x+", "+y+")"})}var node=document.createElementNS("http://www.w3.org/2000/svg",newTagName);return Object.keys(attrs).forEach((function(attrName){node.setAttribute(attrName,attrs[attrName])})),node};function useDrawEffect(drawFnName,deps,props){void 0===props&&(props={});var value=Object(react__WEBPACK_IMPORTED_MODULE_2__.useContext)(Context),nodeRef=Object(react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),fakeNodeRef=Object(react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);if(!value)throw Error("Wrap Component inside <RoughProvider>");var transform=props.transform,opacity=props.opacity,onClick=props.onClick,onMouseOut=props.onMouseOut,onMouseOver=props.onMouseOver,cursor=props.cursor,strokeDasharray=props.strokeDasharray,handlers={onClick:onClick,onMouseOut:onMouseOut,onMouseOver:onMouseOver,onMouseMove:props.onMouseMove},setAttribute=function(node,attrs){Object.keys(attrs).forEach((function(attrName){"strokeDasharray"!==attrName?void 0!==attrs[attrName]&&node.setAttribute(attrName,attrs[attrName]):node.setAttribute("stroke-dasharray",attrs[attrName])}))};return Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){nodeRef.current&&setAttribute(nodeRef.current,{transform:transform,opacity:opacity,cursor:cursor,strokeDasharray:strokeDasharray}),fakeNodeRef.current&&setAttribute(fakeNodeRef.current,{transform:transform})}),[transform,opacity,cursor,strokeDasharray]),useShallowEqual((function(){var ref;if(value.root){var node=(ref=value.rough)[drawFnName].apply(ref,deps);nodeRef.current=node;var fakeNode=function(){var ref;switch(drawFnName){case"rectangle":return createSvgNode("rect",{x:deps[0],y:deps[1],width:deps[2],height:deps[3]});case"path":var pathOptions=deps[1]||{};return createSvgNode("path",{d:deps[0],fill:pathOptions.fill?"black":"none"});default:var options=deps[deps.length-1]||{},newOptions=Object.assign({},options,{fill:"black",fillStyle:"solid"}),args=deps.slice(0,deps.length-1).concat([newOptions]),node=(ref=value.rough)[drawFnName].apply(ref,args);return node.setAttribute("opacity","0"),node}}();return fakeNodeRef.current=fakeNode,setAttribute(node,{transform:transform,opacity:opacity,cursor:cursor,strokeDasharray:strokeDasharray}),value.root.appendChild(node),fakeNode?(loopHandlers(fakeNode,"addEventListener",handlers),setAttribute(fakeNode,{transform:transform,cursor:cursor}),value.root.appendChild(fakeNode)):loopHandlers(node,"addEventListener",handlers),function(){nodeRef.current=null,value.root.removeChild(node),fakeNode?(fakeNodeRef.current=null,loopHandlers(fakeNode,"removeEventListener",handlers),value.root.removeChild(fakeNode)):loopHandlers(node,"removeEventListener",handlers)}}return function(){}}),[value.root].concat(deps)),value}var Arc=function(props){return useDrawEffect("arc",[props.x,props.y,props.width,props.height,props.start,props.stop,props.closed,props.options],props),null};Arc.displayName="Arc",Arc.defaultProps={x:0,y:0,width:0,height:0,start:0,stop:Math.PI/2,closed:!1};var Circle=function(props){return useDrawEffect("circle",[props.x,props.y,props.diameter,props.options],props),null};Circle.displayName="Circle",Circle.defaultProps={x:0,y:0,diameter:0};var Curve=function(props){return useDrawEffect("curve",[props.points,props.options],props),null};Curve.displayName="Curve",Curve.defaultProps={points:[[0,0]]};var Ellipse=function(props){return useDrawEffect("ellipse",[props.x,props.y,props.width,props.height,props.options],props),null};Ellipse.displayName="Ellipse",Ellipse.defaultProps={x:0,y:0,width:0,height:0};var Line=function(props){var x1=props.x1,x2=props.x2;return useDrawEffect("line",[x1,props.y1,x2,props.y2,props.options],props),null};Line.displayName="Line",Line.defaultProps={x1:0,x2:0,y1:0,y2:0};var LinearPath=function(props){return useDrawEffect("linearPath",[props.points,props.options],props),null};LinearPath.displayName="LinearPath",LinearPath.defaultProps={points:[]};var Path=function(props){return useDrawEffect("path",[props.d,props.options],props),null};Path.displayName="Path",Path.defaultProps={d:""};var Polygon=function(props){return useDrawEffect("polygon",[props.vertices,props.options],props),null};Polygon.displayName="Polygon",Polygon.defaultProps={vertices:[]};var Rectangle=function(props){return useDrawEffect("rectangle",[props.x,props.y,props.width,props.height,props.options],props),null};Rectangle.displayName="Rectangle",Rectangle.defaultProps={x:0,y:0,width:0,height:0};var RoughProvider=function(props){RoughProvider.displayName="RoughProvider";var Provider=Context.Provider,config=props.config,rest=function objectWithoutProperties$1(obj,exclude){var target={};for(var k in obj)Object.prototype.hasOwnProperty.call(obj,k)&&-1===exclude.indexOf(k)&&(target[k]=obj[k]);return target}(props,["config"]),ref=Object(react__WEBPACK_IMPORTED_MODULE_2__.useRef)(),ref$1=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)({root:null,rough:null}),value=ref$1[0],setValue=ref$1[1];return Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){setValue({root:ref.current,rough:roughjs_dist_rough_umd__WEBPACK_IMPORTED_MODULE_3___default.a.svg(ref.current,props.config)})}),[ref.current,config]),Object(react__WEBPACK_IMPORTED_MODULE_2__.createElement)(Provider,{value:value},Object(react__WEBPACK_IMPORTED_MODULE_2__.createElement)("g",Object.assign({},rest,{ref:ref})))}},404:function(module,exports){},496:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(178),_storybook_addon_info__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(370),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(94);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addParameters)({docs:{container:_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.DocsContainer,page:_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.DocsPage}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addDecorator)(_storybook_addon_info__WEBPACK_IMPORTED_MODULE_1__.withInfo),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(__webpack_require__(836),module)}.call(this,__webpack_require__(497)(module))},684:function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":332,"./nestedObjectAssign.js":332};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=684},836:function(module,exports,__webpack_require__){var map={"./0RoughCharts.stories.mdx":846,"./ArcSeries.stories.tsx":176,"./BarSeries.stories.tsx":103,"./ChartProvider.stories.jsx":847,"./CircleSeries.stories.tsx":233,"./ComposeSeries.stories.tsx":234,"./LineSeries.stories.tsx":177,"./Tooltip.stories.tsx":842};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=836},842:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"WithCustomizedStringContent",(function(){return WithCustomizedStringContent})),__webpack_require__.d(__webpack_exports__,"Advanced",(function(){return Advanced}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_roughjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_colors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__SOURCE_PREFIX__=(__webpack_require__(45).withSource,"/Users/beizhedenglong/Desktop/p/rough-charts/packages/react-rough-charts/stories"),__STORY__="import * as React from 'react'\nimport { Circle } from 'react-roughjs'\nimport {\n  YAxis, XAxis, BarSeries, Tooltip,\n  ChartProvider,\n} from '../src'\nimport { colors } from './colors'\n\nexport default {\n  title: 'Tooltip',\n  component: Tooltip,\n}\nconst data = [\n  {\n    name: 'Student A', math: 90, physics: 80, chemistry: 85,\n  },\n  {\n    name: 'Student B', math: 80, physics: 50, chemistry: 65,\n  },\n  {\n    name: 'Student C', math: 95, physics: 77, chemistry: 99,\n  },\n  {\n    name: 'Student D', math: 100, physics: 68, chemistry: 88,\n  },\n  {\n    name: 'Student E', math: 60, physics: 76, chemistry: 67,\n  },\n  {\n    name: 'Student F', math: 75, physics: 77, chemistry: 55,\n  },\n]\nexport const WithCustomizedStringContent = props => (\n  <ChartProvider\n    data={data}\n    height={400}\n    {...props}\n  >\n    <YAxis />\n    <XAxis dataKey=\"name\" />\n    <BarSeries dataKey=\"physics\" options={{ fill: colors[0] }} />\n    <Tooltip>\n      {({ name, physics }) => `${name} Physics: ${physics}`}\n    </Tooltip>\n  </ChartProvider>\n)\n\nexport const Advanced = (props) => {\n  const width = 150\n  const height = 100\n  const renderToolTip = (activeItem) => {\n    const {\n      name, physics, chemistry, math,\n    } = activeItem\n    const renderTooltipItem = (x, y, s, color) => (\n      <React.Fragment>\n\n        <Circle\n          x={x}\n          y={y}\n          diameter={20}\n          options={{ fill: color, fillStyle: 'solid' }}\n        />\n        <text\n          x={x + 20}\n          y={y + 6}\n          stroke=\"black\"\n          fill=\"black\"\n        >\n          {s}\n        </text>\n      </React.Fragment>\n    )\n\n    return (\n      <React.Fragment>\n        <text\n          x={width / 2}\n          y={20}\n          textAnchor=\"middle\"\n          stroke=\"black\"\n          fill=\"black\"\n        >\n          {name}\n        </text>\n        {renderTooltipItem(20, 35, `physics: ${physics}`, colors[0])}\n        {renderTooltipItem(20, 35 + 22, `chemistry: ${chemistry}`, colors[1])}\n        {renderTooltipItem(20, 35 + 22 * 2, `math: ${math}`, colors[2])}\n      </React.Fragment>\n    )\n  }\n  return (\n    <ChartProvider\n      data={data}\n      height={400}\n      {...props}\n    >\n      <YAxis />\n      <XAxis dataKey=\"name\" />\n      <BarSeries dataKey=\"physics\" options={{ fill: colors[0] }} />\n      <BarSeries dataKey=\"chemistry\" options={{ fill: colors[1] }} />\n      <BarSeries dataKey=\"math\" options={{ fill: colors[2] }} />\n      <Tooltip\n        width={width}\n        height={height}\n      >\n        {renderToolTip}\n      </Tooltip>\n    </ChartProvider>\n  )\n}\n",__ADDS_MAP__={"tooltip--with-customized-string-content":{startLoc:{col:43,line:33},endLoc:{col:1,line:46},startBody:{col:43,line:33},endBody:{col:1,line:46}},"tooltip--advanced":{startLoc:{col:24,line:48},endLoc:{col:1,line:111},startBody:{col:24,line:48},endBody:{col:1,line:111}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={},addSourceDecorator=__webpack_require__(45).addSource;__webpack_exports__.default={parameters:{storySource:{source:"import * as React from 'react'\nimport { Circle } from 'react-roughjs'\nimport {\n  YAxis, XAxis, BarSeries, Tooltip,\n  ChartProvider,\n} from '../src'\nimport { colors } from './colors'\n\nexport default {\n  title: 'Tooltip',\n  component: Tooltip,\n}\nconst data = [\n  {\n    name: 'Student A', math: 90, physics: 80, chemistry: 85,\n  },\n  {\n    name: 'Student B', math: 80, physics: 50, chemistry: 65,\n  },\n  {\n    name: 'Student C', math: 95, physics: 77, chemistry: 99,\n  },\n  {\n    name: 'Student D', math: 100, physics: 68, chemistry: 88,\n  },\n  {\n    name: 'Student E', math: 60, physics: 76, chemistry: 67,\n  },\n  {\n    name: 'Student F', math: 75, physics: 77, chemistry: 55,\n  },\n]\nexport const WithCustomizedStringContent = props => (\n  <ChartProvider\n    data={data}\n    height={400}\n    {...props}\n  >\n    <YAxis />\n    <XAxis dataKey=\"name\" />\n    <BarSeries dataKey=\"physics\" options={{ fill: colors[0] }} />\n    <Tooltip>\n      {({ name, physics }) => `${name} Physics: ${physics}`}\n    </Tooltip>\n  </ChartProvider>\n)\n\nexport const Advanced = (props) => {\n  const width = 150\n  const height = 100\n  const renderToolTip = (activeItem) => {\n    const {\n      name, physics, chemistry, math,\n    } = activeItem\n    const renderTooltipItem = (x, y, s, color) => (\n      <React.Fragment>\n\n        <Circle\n          x={x}\n          y={y}\n          diameter={20}\n          options={{ fill: color, fillStyle: 'solid' }}\n        />\n        <text\n          x={x + 20}\n          y={y + 6}\n          stroke=\"black\"\n          fill=\"black\"\n        >\n          {s}\n        </text>\n      </React.Fragment>\n    )\n\n    return (\n      <React.Fragment>\n        <text\n          x={width / 2}\n          y={20}\n          textAnchor=\"middle\"\n          stroke=\"black\"\n          fill=\"black\"\n        >\n          {name}\n        </text>\n        {renderTooltipItem(20, 35, `physics: ${physics}`, colors[0])}\n        {renderTooltipItem(20, 35 + 22, `chemistry: ${chemistry}`, colors[1])}\n        {renderTooltipItem(20, 35 + 22 * 2, `math: ${math}`, colors[2])}\n      </React.Fragment>\n    )\n  }\n  return (\n    <ChartProvider\n      data={data}\n      height={400}\n      {...props}\n    >\n      <YAxis />\n      <XAxis dataKey=\"name\" />\n      <BarSeries dataKey=\"physics\" options={{ fill: colors[0] }} />\n      <BarSeries dataKey=\"chemistry\" options={{ fill: colors[1] }} />\n      <BarSeries dataKey=\"math\" options={{ fill: colors[2] }} />\n      <Tooltip\n        width={width}\n        height={height}\n      >\n        {renderToolTip}\n      </Tooltip>\n    </ChartProvider>\n  )\n}\n",locationsMap:{"tooltip--with-customized-string-content":{startLoc:{col:43,line:33},endLoc:{col:1,line:46},startBody:{col:43,line:33},endBody:{col:1,line:46}},"tooltip--advanced":{startLoc:{col:24,line:48},endLoc:{col:1,line:111},startBody:{col:24,line:48},endBody:{col:1,line:111}}}}},title:"Tooltip",component:_src__WEBPACK_IMPORTED_MODULE_2__.h};var data=[{name:"Student A",math:90,physics:80,chemistry:85},{name:"Student B",math:80,physics:50,chemistry:65},{name:"Student C",math:95,physics:77,chemistry:99},{name:"Student D",math:100,physics:68,chemistry:88},{name:"Student E",math:60,physics:76,chemistry:67},{name:"Student F",math:75,physics:77,chemistry:55}],WithCustomizedStringContent=addSourceDecorator((function(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.d,__assign({data:data,height:400},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.j,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.i,{dataKey:"name"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.c,{dataKey:"physics",options:{fill:_colors__WEBPACK_IMPORTED_MODULE_3__.a[0]}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.h,null,(function(_a){return _a.name+" Physics: "+_a.physics})))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/Tooltip.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),Advanced=addSourceDecorator((function(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.d,__assign({data:data,height:400},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.j,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.i,{dataKey:"name"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.c,{dataKey:"physics",options:{fill:_colors__WEBPACK_IMPORTED_MODULE_3__.a[0]}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.c,{dataKey:"chemistry",options:{fill:_colors__WEBPACK_IMPORTED_MODULE_3__.a[1]}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.c,{dataKey:"math",options:{fill:_colors__WEBPACK_IMPORTED_MODULE_3__.a[2]}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.h,{width:150,height:100},(function(activeItem){var name=activeItem.name,physics=activeItem.physics,chemistry=activeItem.chemistry,math=activeItem.math,renderTooltipItem=function(x,y,s,color){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_roughjs__WEBPACK_IMPORTED_MODULE_1__.a,{x:x,y:y,diameter:20,options:{fill:color,fillStyle:"solid"}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("text",{x:x+20,y:y+6,stroke:"black",fill:"black"},s))};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("text",{x:75,y:20,textAnchor:"middle",stroke:"black",fill:"black"},name),renderTooltipItem(20,35,"physics: "+physics,_colors__WEBPACK_IMPORTED_MODULE_3__.a[0]),renderTooltipItem(20,57,"chemistry: "+chemistry,_colors__WEBPACK_IMPORTED_MODULE_3__.a[1]),renderTooltipItem(20,79,"math: "+math,_colors__WEBPACK_IMPORTED_MODULE_3__.a[2]))})))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/Tooltip.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},846:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(0),index_es=__webpack_require__(5),blocks=__webpack_require__(94),GithubCorner=__webpack_require__(377),GithubCorner_default=__webpack_require__.n(GithubCorner),colors=__webpack_require__(9),BarSeries_stories=__webpack_require__(103),ArcSeries_stories=__webpack_require__(176),CircleSeries_stories=__webpack_require__(233),LineSeries_stories=__webpack_require__(177),ComposeSeries_stories=__webpack_require__(234),Container=function(_a){var left=_a.left,right=_a.right,children=_a.children;return react.createElement("div",{style:{display:"flex",flexWrap:"wrap",width:"100%"}},react.createElement("div",{style:{width:"50%",minWidth:350}},left),react.createElement("div",{style:{width:"50%",minWidth:350}},right),react.createElement("div",{style:{width:"100%",minWidth:350}},children))},stories_Overview=function(){return react.createElement("div",null,react.createElement(Container,{left:react.createElement(BarSeries_stories.WithEventHandler,null),right:react.createElement(BarSeries_stories.Basic,null)}),react.createElement(Container,{left:react.createElement(ComposeSeries_stories.Basic,null),right:react.createElement(BarSeries_stories.WithCustomizedShape,null)}),react.createElement(Container,{left:react.createElement(ArcSeries_stories.TwoLevel,null),right:react.createElement(ArcSeries_stories.WithCustomizedShape,null)}),react.createElement(Container,{left:react.createElement(LineSeries_stories.Basic,null),right:react.createElement(LineSeries_stories.WithCustomizedShape,null)}),react.createElement(Container,null,react.createElement(CircleSeries_stories.Basic,{margin:{top:60}})))};function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));const layoutProps={},MDXLayout="wrapper";function MDXContent({components:components,...props}){return Object(index_es.mdx)(MDXLayout,_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(index_es.mdx)(blocks.Meta,{title:"RoughCharts",mdxType:"Meta"}),Object(index_es.mdx)("h1",null,"Rough Charts"),Object(index_es.mdx)("p",null,Object(index_es.mdx)("strong",{parentName:"p"},"A responsive, composable react charting library with a hand-drawn style."),"\n",Object(index_es.mdx)("a",_extends({parentName:"p"},{href:"https://beizhedenglong.github.io/rough-charts/?path=/docs/roughcharts--page"}),Object(index_es.mdx)("strong",{parentName:"a"},Object(index_es.mdx)("inlineCode",{parentName:"strong"},"See Examples From StoryBooks.")))),Object(index_es.mdx)("h2",null,"Overview"),Object(index_es.mdx)("div",null,Object(index_es.mdx)(stories_Overview,{mdxType:"OverView"}),Object(index_es.mdx)(GithubCorner_default.a,{href:"https://github.com/beizhedenglong/rough-charts",bannerColor:colors.a[0],mdxType:"GithubCorner"})),Object(index_es.mdx)("h2",null,"Features"),Object(index_es.mdx)("ul",null,Object(index_es.mdx)("li",{parentName:"ul"},Object(index_es.mdx)("strong",{parentName:"li"},"It's responsive.")),Object(index_es.mdx)("li",{parentName:"ul"},Object(index_es.mdx)("strong",{parentName:"li"},"It's flexible and easy to compose.")," ",Object(index_es.mdx)("inlineCode",{parentName:"li"},"You can compose all available ChartSeries Components and render any shapes you like.")),Object(index_es.mdx)("li",{parentName:"ul"},Object(index_es.mdx)("strong",{parentName:"li"},"It's lovely.")),Object(index_es.mdx)("li",{parentName:"ul"},Object(index_es.mdx)("strong",{parentName:"li"},"It's written in TypeScript."))),Object(index_es.mdx)("h2",null,"Installation"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{}),"  yarn add rough-charts\n")),Object(index_es.mdx)("blockquote",null,Object(index_es.mdx)("p",{parentName:"blockquote"},Object(index_es.mdx)("strong",{parentName:"p"},"This project contains a packaged called ",Object(index_es.mdx)("a",_extends({parentName:"strong"},{href:"https://github.com/beizhedenglong/rough-charts/tree/master/packages/react-roughjs"}),Object(index_es.mdx)("inlineCode",{parentName:"a"},"react-roughjs")),". It has a lot of basic rough shapes, you may need it."))),Object(index_es.mdx)("h2",null,"Usage"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"import * as React from 'react'\nimport {\n  LineSeries, Tooltip,\n  ChartProvider, XAxis, YAxis,\n} from 'rough-charts'\nimport { colors } from './colors'\n\nconst data = [\n  { name: 'A', value1: 30, value2: 35 },\n  { name: 'B', value1: 90, value2: 17 },\n  { name: 'C', value1: 50, value2: 23 },\n  { name: 'D', value1: 40, value2: 15 },\n  { name: 'E', value1: 70, value2: 39 },\n  { name: 'G', value1: 30, value2: 25 },\n  { name: 'H', value1: 100, value2: 31 },\n  { name: 'I', value1: 110, value2: 32 },\n]\n\nconst App = props => (\n  <ChartProvider\n    height={400}\n    data={data}\n  >\n    <XAxis dataKey=\"name\" />\n    <YAxis />\n    <LineSeries\n      dataKey=\"value1\"\n      options={{\n        stroke: colors[0],\n        strokeWidth: 2,\n      }}\n    />\n    <LineSeries\n      dataKey=\"value2\"\n      options={{\n        stroke: colors[3],\n        strokeWidth: 2,\n      }}\n    />\n    <Tooltip />\n  </ChartProvider>\n)\n\n")),Object(index_es.mdx)("h2",null,"Fonts"),Object(index_es.mdx)("p",null,Object(index_es.mdx)("strong",{parentName:"p"},"Add your favorite hand-drawn style fonts:")),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-html"}),'<link href="https://fonts.googleapis.com/css?family=Patrick+Hand&display=swap" rel="stylesheet">\n<style>\n  * {\n    font-family: \'Patrick Hand\', cursive;\n    font-size: 16px;\n  }\n</style>\n')),Object(index_es.mdx)("h2",null,"Credits"),Object(index_es.mdx)("p",null,Object(index_es.mdx)("strong",{parentName:"p"},"This project was built on top of ",Object(index_es.mdx)("a",_extends({parentName:"strong"},{href:"https://github.com/d3"}),Object(index_es.mdx)("inlineCode",{parentName:"a"},"d3"))," and ",Object(index_es.mdx)("a",_extends({parentName:"strong"},{href:"https://github.com/pshihn/rough"}),Object(index_es.mdx)("inlineCode",{parentName:"a"},"roughjs")),".")))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};const componentMeta={title:"RoughCharts",includeStories:["__page"]},mdxStoryNameToId={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={container:({context:context,children:children})=>Object(index_es.mdx)(blocks.DocsContainer,{context:{...context,mdxStoryNameToId:mdxStoryNameToId}},children),page:MDXContent};__webpack_exports__.default=componentMeta},847:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(3),__webpack_require__(13),__webpack_require__(22),__webpack_require__(19),__webpack_require__(28),__webpack_require__(14),__webpack_require__(29),__webpack_require__(62),__webpack_require__(7),__webpack_require__(12),__webpack_require__(41),__webpack_require__(63),__webpack_require__(16),__webpack_require__(78),__webpack_require__(17);var react=__webpack_require__(0),time=__webpack_require__(853),linear=__webpack_require__(851),src=(__webpack_require__(25),__webpack_require__(15),__webpack_require__(61),__webpack_require__(37),__webpack_require__(33),__webpack_require__(840),__webpack_require__(89),__webpack_require__(6),__webpack_require__(26),__webpack_require__(39)),react_dom=__webpack_require__(83),index_m=__webpack_require__(4),band=__webpack_require__(854),ChartContext=Object(react.createContext)(null),isNil=function(x){return null==x},isFunction=function(x){return"function"==typeof x},removeDuplicates=function(xs){var res={};return xs.forEach((function(key){res[key]=!0})),Object.keys(res)},getBandWidth=function(scale){var ticks="ticks"in scale?scale.ticks():scale.domain();if(1>=ticks.length){var ref=scale.range(),low=ref[0],high=ref[1];return Math.abs(high-low)}return Math.abs(scale(ticks[1])-scale(ticks[0]))},processTooltipHandlers=function(child,handlers){if(!Object(react.isValidElement)(child))return null;var additionalProps=Object.entries(handlers).reduce((function(acc,ref){var handlerName=ref[0],f=ref[1];return acc[handlerName]=child.props[handlerName]?function(e){f(e),child.props[handlerName](e)}:f,acc}),{});return Object(react.cloneElement)(child,additionalProps)},getDomain=function(type,values){var min=Math.min.apply(Math,values);return"scaleBand"===type?values:[0<min?0:min,Math.max.apply(Math,values)]};function useChartContext(props,scaleKeyName){var value=Object(react.useContext)(ChartContext);if(null===value)throw Error("Chart Components must be wrapped inside <ChartProvider>!");var data=value.data,contentWidth=value.contentWidth,contentHeight=value.contentHeight,setScaleData=value.setScaleData,scaleData=value.scaleData,userXScale=scaleData.userXScale,userYScale=scaleData.userYScale,internalXScale=scaleData.internalXScale,internalYScale=scaleData.internalYScale,dataKey=props.dataKey;Object(react.useEffect)((function(){if(scaleKeyName){if("xDataKey"===scaleKeyName){if(userXScale)return userXScale.range([0,contentWidth]),void setScaleData((function(prev){return Object.assign({},prev,{xScale:userXScale,xDataKey:dataKey})}));var values=data.map((function(d){return d[dataKey]}));internalXScale.range([0,contentWidth]);var domain=getDomain("scaleBand",values);internalXScale.domain(domain),setScaleData((function(prev){var obj;return Object.assign({},prev,((obj={})[scaleKeyName]=dataKey,obj),{xScale:internalXScale})}))}if("yDataKey"===scaleKeyName&&dataKey)if(userYScale)userYScale.range([0,contentHeight]),setScaleData((function(prev){return Object.assign({},prev,{yScale:userYScale,yDataKey:dataKey})}));else{var values$1=data.map((function(d){return d[dataKey]}));internalYScale.range([0,contentHeight]);var domain$1=getDomain("scaleLinear",values$1);internalYScale.domain(domain$1),setScaleData((function(prev){var obj;return Object.assign({},prev,((obj={})[scaleKeyName]=dataKey,obj),{yScale:internalYScale})}))}var getSeriesScaleData=function(prev){var obj,barDataKeys=prev.barDataKeys,lineDataKeys=prev.lineDataKeys,yDataKey=prev.yDataKey,circleDataKeys=prev.circleDataKeys,prevDataKeys=prev[scaleKeyName],newDataKeys=-1<prevDataKeys.indexOf(dataKey)?prevDataKeys:prevDataKeys.concat([dataKey]),newScaleData=Object.assign({},prev,((obj={})[scaleKeyName]=newDataKeys,obj)),values=yDataKey?data.map((function(d){return d[yDataKey]})):removeDuplicates(newDataKeys.concat(lineDataKeys,barDataKeys,circleDataKeys)).reduce((function(acc,groupName){return acc.push.apply(acc,data.map((function(item){return+item[groupName]}))),acc}),[]);if(userYScale)userYScale.range([contentHeight,0]),newScaleData.yScale=userYScale;else{var domain=getDomain("scaleLinear",values);internalYScale.domain(domain),internalYScale.range([contentHeight,0]),newScaleData.yScale=internalYScale}return newScaleData};"barDataKeys"===scaleKeyName&&setScaleData((function(prev){var newScaleData=getSeriesScaleData(prev),barScale=Object(band.a)().domain(newScaleData[scaleKeyName]);return newScaleData.barScale=barScale,newScaleData})),("lineDataKeys"===scaleKeyName||"circleDataKeys"===scaleKeyName)&&setScaleData((function(prev){return getSeriesScaleData(prev)}))}}),[scaleKeyName,dataKey,contentHeight,contentWidth]);var margin=Object.assign({},value.margin),width=value.width,height=value.height;return Object.assign({},value,{width:width,height:height,contentWidth:width-margin.left-margin.right,contentHeight:height-margin.top-margin.bottom,options:Object.assign({},value.options,props.options||{}),margin:margin,data:isNil(props.data)?value.data:props.data,scaleData:value.scaleData,setScaleData:value.setScaleData})}var XAxis=function(props){if(!props.dataKey)throw Error("dataKey of XAxisProps is required");var ref=useChartContext(props,"xDataKey"),options=ref.options,contentHeight=ref.contentHeight,contentWidth=ref.contentWidth,xScale=ref.scaleData.xScale,tickSize=props.tickSize,fontSize=props.fontSize,format=props.format,tickCount=props.tickCount;if(!xScale)return null;var ticks="ticks"in xScale?xScale.ticks(tickCount):xScale.domain(),bandwidth=getBandWidth(xScale),y=contentHeight;return Object(react.createElement)(react.Fragment,null,Object(react.createElement)(index_m.b,{x1:0,y1:y,x2:contentWidth+bandwidth/2,y2:y,options:Object.assign({},{bowing:.2},options)}),ticks.map((function(t,index){return Object(react.createElement)(react.Fragment,{key:index},Object(react.createElement)(index_m.b,{x1:xScale(t)+bandwidth/2,y1:y,x2:xScale(t)+bandwidth/2,y2:y+tickSize,options:Object.assign({},{strokeWidth:2},options)}),Object(react.createElement)("text",{x:xScale(t)+bandwidth/2,y:y+tickSize+fontSize,stroke:options.stroke,fill:options.stroke,textAnchor:"middle"},isFunction(format)?format(t):t+""))})))};XAxis.displayName="XAxis",XAxis.defaultProps={tickSize:10,fontSize:16,tickCount:10};var YAxis=function(props){var tickSize=props.tickSize,fontSize=props.fontSize,format=props.format,tickCount=props.tickCount,ref=useChartContext(props,"yDataKey"),options=ref.options,contentHeight=ref.contentHeight,scale=ref.scaleData.yScale;if(!scale)return null;var ticks=scale.ticks?scale.ticks(tickCount):scale.domain();return Object(react.createElement)(react.Fragment,null,Object(react.createElement)(index_m.b,{x1:0,y1:0,x2:0,y2:contentHeight,options:Object.assign({},{bowing:.2},options)}),ticks.map((function(t,index){return Object(react.createElement)(react.Fragment,{key:index},Object(react.createElement)(index_m.b,{x1:0-tickSize,x2:0,y1:scale(t),y2:scale(t),options:Object.assign({},{strokeWidth:2},options)}),Object(react.createElement)("text",{x:0-tickSize,y:scale(t)+fontSize/3,stroke:options.stroke,fill:options.stroke,textAnchor:"end"},isFunction(format)?format(t):t+""))})))};YAxis.displayName="YAxis",YAxis.defaultProps={tickSize:10,fontSize:16,tickCount:10};var mousePositions=function(event){var x,y;return!!document.all?(x=event.clientX+document.body.scrollLeft,y=event.clientY+document.body.scrollTop):(x=window.Event?event.pageX:event.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),y=window.Event?event.pageY:event.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)),{x:x,y:y}},useTooltipGenerator=function(props){if(!props.dataKey)throw Error("dataKey is Required!");var setTooltipData=useChartContext(props).setTooltipData;return{generateHandlers:function generateHandlers(item,content){return void 0===content&&(content={name:"",value:""}),{onMouseOver:function onMouseOver(e){var ref=mousePositions(e),x=ref.x,y=ref.y;setTooltipData((function(prev){return Object.assign({},prev,{showToolTip:!0,x:x,y:y,name:content.name,value:content.value,activeItem:item})}))},onMouseMove:function onMouseMove(e){var ref=mousePositions(e),x=ref.x,y=ref.y;setTooltipData((function(prev){return Object.assign({},prev,{showToolTip:!0,x:x,y:y,activeItem:item})}))},onMouseOut:function onMouseOut(){setTooltipData((function(prev){return Object.assign({},prev,{showToolTip:!1})}))}}}}};(function(props){var dataKey=props.dataKey,options=props.options,ref=useChartContext(props,"barDataKeys"),data=ref.data,contentHeight=ref.contentHeight,scaleData=ref.scaleData,xScale=scaleData.xScale,barScale=scaleData.barScale,yScale=scaleData.yScale,xDataKey=scaleData.xDataKey,generateHandlers=useTooltipGenerator(props).generateHandlers;if(!dataKey)throw Error("dataKey is Required!");if(!(xScale&&barScale&&yScale&&xDataKey))return null;var width=getBandWidth(xScale),offset=.2*width/2,children=props.children;return Object(react.createElement)(react.Fragment,null,data.map((function(item,index){var handlers=generateHandlers(item,{name:""+dataKey,value:""+item[dataKey]}),childProps=function(item){var x=xScale(item[xDataKey]);barScale.range([x+offset,x+width-offset]);var min=yScale.domain()[0],y0=yScale(0),itemY=yScale(item[dataKey]),y=0<=min?itemY:yScale(Math.max(item[dataKey],0)),height=0<=min?contentHeight-itemY:Math.abs(y0-itemY);return{x:barScale(dataKey),y:y,width:barScale.bandwidth(),height:height,options:Object.assign({},{fill:"black"},options)}}(item);return isFunction(children)?processTooltipHandlers(children(item,childProps,index),handlers):Object(react.createElement)(index_m.d,Object.assign({key:index},childProps,handlers))})))}).displayName="BarSeries";var Arc=function(props){var innerRadius=props.innerRadius,outerRadius=props.outerRadius,startAngle=props.startAngle,endAngle=props.endAngle,padAngle=props.padAngle,options=props.options,cx=props.cx,cy=props.cy,rest$1=function objectWithoutProperties(obj,exclude){var target={};for(var k in obj)Object.prototype.hasOwnProperty.call(obj,k)&&-1===exclude.indexOf(k)&&(target[k]=obj[k]);return target}(props,["innerRadius","outerRadius","startAngle","endAngle","padAngle","options","cx","cy"]),d=Object(src.a)()({innerRadius:innerRadius,outerRadius:outerRadius,startAngle:startAngle,endAngle:endAngle,padAngle:padAngle});return Object(react.createElement)(index_m.c,Object.assign({d:d,transform:"translate("+cx+", "+cy+")",options:options},rest$1))};Arc.displayName="RcArc",Arc.defaultProps={innerRadius:0,outerRadius:0,startAngle:0};var ArcSeries=function(props){var ref=useChartContext(props),data=ref.data,options=ref.options,contentHeight=ref.contentHeight,contentWidth=ref.contentWidth,generateHandlers=useTooltipGenerator(props).generateHandlers,dataKey=props.dataKey,cx=props.cx,cy=props.cy,innerRadiusPercent=props.innerRadiusPercent,outerRadiusPercent=props.outerRadiusPercent,padAngleProp=props.padAngle,startAngleProp=props.startAngle,endAngleProp=props.endAngle,children=props.children,newCx=isNil(cx)?contentWidth/2:cx,newCy=isNil(cy)?contentHeight/2:cy,radius=Math.min(newCx,newCy),arcsData=Object(src.e)().startAngle(startAngleProp).padAngle(padAngleProp).endAngle(endAngleProp)(data.map((function(d){return d[dataKey]}))).map((function(arc$$1){var startAngle=arc$$1.startAngle,endAngle=arc$$1.endAngle,padAngle=arc$$1.padAngle;return{innerRadius:radius*innerRadiusPercent,outerRadius:radius*outerRadiusPercent,startAngle:startAngle,endAngle:endAngle,padAngle:padAngle}})),total=data.reduce((function(acc,d){return acc+d[dataKey]}),0);return Object(react.createElement)(react.Fragment,null,arcsData.map((function(arcProps,index){var item=data[index],percent=(item[dataKey]/total*100).toPrecision(3),handlers=generateHandlers(item,{name:dataKey+" "+item[dataKey],value:percent+"%"}),childProps=Object.assign({},arcProps,{cx:newCx,cy:newCy,options:Object.assign({},{fill:"black"},options)});return isFunction(children)?processTooltipHandlers(children(item,childProps,index),handlers):Object(react.createElement)(Arc,Object.assign({key:index},childProps,handlers))})))};ArcSeries.displayName="ArcSeries",ArcSeries.defaultProps={innerRadiusPercent:0,outerRadiusPercent:1,padAngle:0,startAngle:0,endAngle:2*Math.PI};var CircleSeries=function(props){var ref=useChartContext(props,"circleDataKeys"),scaleData=ref.scaleData,data=ref.data,options=ref.options,xScale=scaleData.xScale,yScale=scaleData.yScale,xDataKey=scaleData.xDataKey,dataKey=props.dataKey,generateHandlers=useTooltipGenerator(props).generateHandlers;if(!(xScale&&yScale&&dataKey&&xDataKey))return null;var bandwidth=getBandWidth(xScale),points=data.map((function(item){return[xScale(item[xDataKey]),yScale(item[dataKey])]})),children=props.children;return Object(react.createElement)(react.Fragment,null,points.map((function(ref,index){var x=ref[0],y=ref[1],childProps={x:x+bandwidth/2,y:y,diameter:10,options:Object.assign({},options)},item=data[index],handlers=generateHandlers(data[index],{name:dataKey+" "+item[xDataKey],value:""+item[dataKey]});return isFunction(children)?processTooltipHandlers(children(data[index],childProps,index),handlers):Object(react.createElement)(index_m.a,Object.assign({key:index},childProps,handlers))})))};CircleSeries.displayName="CircleSeries";var LineSeries=function(props){var ref=useChartContext(props,"lineDataKeys"),scaleData=ref.scaleData,data=ref.data,options=ref.options,xScale=scaleData.xScale,yScale=scaleData.yScale,xDataKey=scaleData.xDataKey,dataKey=props.dataKey,curve=props.curve;if(!(xScale&&yScale&&dataKey&&xDataKey))return null;var bandwidth=getBandWidth(xScale),points=data.map((function(item){return[xScale(item[xDataKey]),yScale(item[dataKey])]})),path=Object(src.d)().curve(curve)(points);return Object(react.createElement)(react.Fragment,null,Object(react.createElement)(index_m.c,{transform:"translate("+bandwidth/2+", 0)",d:path,options:options}),Object(react.createElement)(CircleSeries,Object.assign({},props)))};LineSeries.displayName="LineSeries",LineSeries.defaultProps={curve:src.b.tension(.5)};var Tooltip=function(props){var ref=useChartContext(props),tooltipData=ref.tooltipData,setTooltipData=ref.setTooltipData,contentWidth=ref.contentWidth,options=ref.options,x=tooltipData.x,y=tooltipData.y,showToolTip=tooltipData.showToolTip,name=tooltipData.name,value=tooltipData.value,activeItem=tooltipData.activeItem,propsWidth=props.width,height=props.height,fontSize=props.fontSize,children=props.children,ref$1=Object(react.useState)(120),internalWidth=ref$1[0],setWidth=ref$1[1],textRef=Object(react.useRef)(),width=isNil(propsWidth)?internalWidth:propsWidth;if(Object(react.useEffect)((function(){var node=textRef.current;if(node){var textWidth=node.getBBox().width;setWidth(textWidth+30)}}),[textRef.current]),!showToolTip||!activeItem)return null;var left=contentWidth-x<width+20?x-20-width:x+20,ellipse=function(s,length){return void 0===s&&(s=""),s.length>length?s.slice(0,length)+"...":s},content=Object(react.createElement)("div",{style:{position:"absolute",left:left,top:y-height/2}},Object(react.createElement)("svg",{width:width+4,height:height+4},Object(react.createElement)("g",{transform:"translate(2, 2)"},Object(react.createElement)(index_m.e,null,Object(react.createElement)(index_m.d,{width:width,height:height,onMouseOver:function onMouseOver(e){setTooltipData((function(prev){return Object.assign({},prev,{x:e.clientX,y:e.clientY})}))},onMouseMove:function onMouseMove(e){setTooltipData((function(prev){return Object.assign({},prev,{x:e.clientX,y:e.clientY})}))},onMouseOut:function onMouseOut(){setTooltipData((function(prev){return Object.assign({},prev,{showToolTip:!1})}))},options:Object.assign({},{fill:"white",fillStyle:"solid",strokeWidth:2},options)})),Object(react.createElement)(index_m.e,null,function renderChildren(){var text=function(s){return Object(react.createElement)("text",{ref:textRef,textAnchor:"middle",stroke:"black",fill:"black",x:width/2,y:height/2+fontSize/3},s)};if(isFunction(children)){var content=children(activeItem);return"string"==typeof content?text(content):content}return text(ellipse(name,20)+": "+ellipse(value,5))}()))));return Object(react_dom.createPortal)(content,document.body)};Tooltip.displayName="Tooltip",Tooltip.defaultProps={height:40,fontSize:16};var Provider=ChartContext.Provider,defaultMargin={top:10,right:10,bottom:50,left:50},ChartProvider=function(props){var ref$1=Object(react.useState)(0),innerHeight=ref$1[0],setInnerHeight=ref$1[1],ref$2=Object(react.useState)(0),innerWidth=ref$2[0],setInnerWidth=ref$2[1],ref=Object(react.useRef)(),internalXScale=Object(band.a)(),internalYScale=Object(linear.a)(),ref$3=Object(react.useState)({barDataKeys:[],lineDataKeys:[],circleDataKeys:[],xScale:props.xScale||internalXScale,yScale:props.yScale||internalYScale,userXScale:props.xScale,userYScale:props.yScale,internalXScale:internalXScale,internalYScale:internalYScale}),scaleData=ref$3[0],_setScaleData=ref$3[1],ref$4=Object(react.useState)({x:-1,y:-1,showToolTip:!1,name:"",value:"",activeItem:null}),tooltipData=ref$4[0],_setTooltipData=ref$4[1];Object(react.useEffect)((function(){var handleResize=function(){if(ref.current&&(isNil(props.height)||isNil(props.width))){var boundingRect=ref.current.parentElement.getBoundingClientRect();setInnerHeight(boundingRect.height),setInnerWidth(boundingRect.width)}};return handleResize(),window.addEventListener("resize",handleResize),function(){return window.removeEventListener("resize",handleResize)}}),[props.height,props.width,ref.current]);var height=isNil(props.height)?innerHeight:props.height,width=isNil(props.width)?innerWidth:props.width,propsMargin=props.margin,margin=Object.assign({},defaultMargin,propsMargin);return Object(react.createElement)(Provider,{value:Object.assign({},props,{height:height,width:width,margin:margin,scaleData:scaleData,setScaleData:function setScaleData(f){return _setScaleData(f)},contentHeight:height-margin.bottom-margin.top,contentWidth:width-margin.left-margin.right,tooltipData:tooltipData,setTooltipData:function setTooltipData(f){return _setTooltipData(f)}})},Object(react.createElement)("svg",{height:height,width:width,ref:ref},Object(react.createElement)(index_m.e,{transform:"translate("+margin.left+", "+margin.top+")",config:{options:props.options}},function shouldRenderChildren(){return height&&width}()&&props.children)))};ChartProvider.displayName="ChartProvider",ChartProvider.defaultProps={data:[],options:{},margin:defaultMargin};var colors=__webpack_require__(9);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}__webpack_require__.d(__webpack_exports__,"WithCustomizedScale",(function(){return WithCustomizedScale}));__webpack_require__(45).withSource;var addSourceDecorator=__webpack_require__(45).addSource,WithCustomizedScale=(__webpack_exports__.default={parameters:{storySource:{source:"import * as React from 'react'\nimport * as d3Scale from 'd3-scale'\nimport {\n  YAxis, XAxis, LineSeries,\n  ChartProvider, Tooltip,\n} from 'rough-charts'\nimport { colors } from './colors'\n\n\nexport default {\n  title: 'ChartProvider',\n  component: ChartProvider,\n}\n\nexport const WithCustomizedScale = (props) => {\n  const data = [\n    { date: '2019-10-1', temperature: 30 },\n    { date: '2019-10-2', temperature: 33 },\n    { date: '2019-10-3', temperature: 31 },\n    { date: '2019-10-4', temperature: 36 },\n    { date: '2019-10-5', temperature: 37 },\n    { date: '2019-10-6', temperature: 30 },\n    { date: '2019-10-7', temperature: 31 },\n    { date: '2019-10-8', temperature: 25 },\n    { date: '2019-10-9', temperature: 35 },\n  ]\n  const newData = data.map(({ date, temperature }) => {\n    const [year, month, day] = date.split('-')\n    return ({\n      date: new Date(+year, +month, +day),\n      temperature,\n    })\n  })\n\n  const xScale = d3Scale\n    .scaleTime()\n    .domain([new Date(2019, 10, 1), new Date(2019, 10, 10)])\n\n  const yScale = d3Scale\n    .scaleLinear()\n    .domain([20, 40])\n\n  const dateString = (d: Date) => `${d.getMonth()}-${d.getDate()}`\n\n  return (\n    <ChartProvider\n      margin={{\n        right: 100,\n      }}\n      // If xScale/yScale doesn't set, it will be d3.scaleBand()/d3.scaleLinear,\n      // you can pass customized sales to override the default behavior.\n      xScale={xScale}\n      yScale={yScale}\n      data={newData}\n      height={400}\n      {...props}\n    >\n      <YAxis dataKey=\"temperature\" format={tick => `${tick} °C`} />\n      <XAxis\n        dataKey=\"date\"\n        format={dateString}\n      />\n      <LineSeries\n        dataKey=\"temperature\"\n        options={{ stroke: colors[0] }}\n      />\n      <Tooltip>\n        {activeItem => `${dateString(activeItem.date)}: ${activeItem.temperature} °C`}\n      </Tooltip>\n    </ChartProvider>\n  )\n}\n",locationsMap:{"chartprovider--with-customized-scale":{startLoc:{col:35,line:15},endLoc:{col:1,line:72},startBody:{col:35,line:15},endBody:{col:1,line:72}}}}},title:"ChartProvider",component:ChartProvider},addSourceDecorator((function(props){var newData=[{date:"2019-10-1",temperature:30},{date:"2019-10-2",temperature:33},{date:"2019-10-3",temperature:31},{date:"2019-10-4",temperature:36},{date:"2019-10-5",temperature:37},{date:"2019-10-6",temperature:30},{date:"2019-10-7",temperature:31},{date:"2019-10-8",temperature:25},{date:"2019-10-9",temperature:35}].map((function(_ref){var date=_ref.date,temperature=_ref.temperature,_date$split2=_slicedToArray(date.split("-"),3),year=_date$split2[0],month=_date$split2[1],day=_date$split2[2];return{date:new Date(+year,+month,+day),temperature:temperature}})),xScale=time.a().domain([new Date(2019,10,1),new Date(2019,10,10)]),yScale=linear.a().domain([20,40]),dateString=function(d){return"".concat(d.getMonth(),"-").concat(d.getDate())};return react.createElement(ChartProvider,_extends({margin:{right:100},xScale:xScale,yScale:yScale,data:newData,height:400},props),react.createElement(YAxis,{dataKey:"temperature",format:function format(tick){return"".concat(tick," °C")}}),react.createElement(XAxis,{dataKey:"date",format:dateString}),react.createElement(LineSeries,{dataKey:"temperature",options:{stroke:colors.a[0]}}),react.createElement(Tooltip,null,(function(activeItem){return"".concat(dateString(activeItem.date),": ").concat(activeItem.temperature," °C")})))}),{__STORY__:"import * as React from 'react'\nimport * as d3Scale from 'd3-scale'\nimport {\n  YAxis, XAxis, LineSeries,\n  ChartProvider, Tooltip,\n} from 'rough-charts'\nimport { colors } from './colors'\n\n\nexport default {\n  title: 'ChartProvider',\n  component: ChartProvider,\n}\n\nexport const WithCustomizedScale = (props) => {\n  const data = [\n    { date: '2019-10-1', temperature: 30 },\n    { date: '2019-10-2', temperature: 33 },\n    { date: '2019-10-3', temperature: 31 },\n    { date: '2019-10-4', temperature: 36 },\n    { date: '2019-10-5', temperature: 37 },\n    { date: '2019-10-6', temperature: 30 },\n    { date: '2019-10-7', temperature: 31 },\n    { date: '2019-10-8', temperature: 25 },\n    { date: '2019-10-9', temperature: 35 },\n  ]\n  const newData = data.map(({ date, temperature }) => {\n    const [year, month, day] = date.split('-')\n    return ({\n      date: new Date(+year, +month, +day),\n      temperature,\n    })\n  })\n\n  const xScale = d3Scale\n    .scaleTime()\n    .domain([new Date(2019, 10, 1), new Date(2019, 10, 10)])\n\n  const yScale = d3Scale\n    .scaleLinear()\n    .domain([20, 40])\n\n  const dateString = (d: Date) => `${d.getMonth()}-${d.getDate()}`\n\n  return (\n    <ChartProvider\n      margin={{\n        right: 100,\n      }}\n      // If xScale/yScale doesn't set, it will be d3.scaleBand()/d3.scaleLinear,\n      // you can pass customized sales to override the default behavior.\n      xScale={xScale}\n      yScale={yScale}\n      data={newData}\n      height={400}\n      {...props}\n    >\n      <YAxis dataKey=\"temperature\" format={tick => `${tick} °C`} />\n      <XAxis\n        dataKey=\"date\"\n        format={dateString}\n      />\n      <LineSeries\n        dataKey=\"temperature\"\n        options={{ stroke: colors[0] }}\n      />\n      <Tooltip>\n        {activeItem => `${dateString(activeItem.date)}: ${activeItem.temperature} °C`}\n      </Tooltip>\n    </ChartProvider>\n  )\n}\n",__ADDS_MAP__:{"chartprovider--with-customized-scale":{startLoc:{col:35,line:15},endLoc:{col:1,line:72},startBody:{col:35,line:15},endBody:{col:1,line:72}}},__MAIN_FILE_LOCATION__:"/ChartProvider.stories.jsx",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/Users/beizhedenglong/Desktop/p/rough-charts/packages/react-rough-charts/stories",__IDS_TO_FRAMEWORKS__:{}}))},9:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return colors}));var colors=function(xs){void 0===xs&&(xs=[]);for(var length=xs.length;length>0;){var randomIndex=Math.floor(Math.random()*length);length-=1;var temp=xs[randomIndex];xs[randomIndex]=xs[length],xs[length]=temp}return xs}(["#fe4a49","#2ab7ca ","#fed766","#fe9c8f","#feb2a8 ","#fec8c1","#fad9c1","#f9caa7","#ee4035","#f37736","#fdf498 ","#7bc043","#0392cf","#f6abb6","#03396c"])}},[[382,1,2]]]);
//# sourceMappingURL=main.e54e0687afb6e7074fee.bundle.js.map